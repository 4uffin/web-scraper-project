Part-70: Implement a Global External Network Load balancer with TCP Proxy in GCP Cloud - DEV Community
Forem Feed
Follow new Subforems to improve your feed
DEV Community
Follow
A space to discuss and keep up software development and manage your software career
Gamers Forem
Follow
An inclusive community for gaming enthusiasts
Future
Follow
News and discussion of science and technology such as AI, VR, cryptocurrency, quantum computing, and more.
Music Forem
Follow
From composing and gigging to gear, hot music takes, and everything in between.
DUMB DEV Community
Follow
Memes and software development shitposting
Vibe Coding Forem
Follow
Discussing AI software development, and showing off what we're building.
Popcorn Movies and TV
Follow
Movie and TV enthusiasm, criticism and everything in-between.
Design Community
Follow
Web design, graphic design and everything in-between
Maker Forem
Follow
A community for makers, hobbyists, and professionals to discuss Arduino, Raspberry Pi, 3D printing, and much more.
Scale Forem
Follow
For engineers building software at scale. We discuss architecture, cloud-native, and SRE‚Äîthe hard-won lessons you can't just Google
Forem Core
Follow
Discussing the core forem open source software project ‚Äî features, bugs, performance, self-hosting.
Security Forem
Follow
Your central hub for all things security. From ethical hacking and CTFs to GRC and career development, for beginners and pros alike
Open Forem
Follow
A general discussion space for the Forem community. If it doesn't have a home elsewhere, it belongs here
Crypto Forem
Follow
A collaborative community for all things Crypto‚Äîfrom Bitcoin to protocol development and DeFi to NFTs and market analysis.
Dropdown menu
Dropdown menu
Skip to content
Navigation menu
Search
Powered by Algolia
Search
Log in
Create account
DEV Community
Close
Add reaction
Like
Unicorn
Exploding Head
Raised Hands
Fire
Jump to Comments
Save
Boost
More...
Moderate
Copy link
Copy link
Copied to Clipboard
Share to X
Share to LinkedIn
Share to Facebook
Share to Mastodon
Report Abuse
Latchu@DevOps
Posted on Sep 20
Part-70: Implement a Global External Network Load balancer with TCP Proxy in GCP Cloud
#googlecloud
#devops
#cloud
#learning
Cloud Load Balancing - Network Load Balancer (TCP/TLS)
Step-01: Introduction
Pre-requisite-1: Create Instance Templates, Create Managed Instance Groups as part of below demo
https://dev.to/latchudevops/part-67-mastering-google-cloud-global-load-balancers-regional-mig-global-http-demo-n98
Enter fullscreen mode
Exit fullscreen mode
Create Global External Load NetworkBalancer - TCP Proxy
Step-02: Create Health check - TCP
# Create a health check -
TCP
gcloud compute health-checks create tcp global-tcp-health-check --port 80
Enter fullscreen mode
Exit fullscreen mode
Step-03: Create Global External Network Load Balancer
Go to Network Services -> Load Balancing -> CREATE LOAD BALANCER
Network Load Balancer (TCP/SSL): START CONFIGURATION
Internet facing or internal only: From Internet to my VMs
Multiple regions or single region: Multiple regions (or not sure yet)
Classic or advanced traffic management: Advanced traffic management
Load Balancer name: global-lb-external-tcp
Backend Configuration
CLick on CREATE A BACKEND SERVICE
Name: global-lb-external-tcp
Description: global-lb-external-tcp
Backend type: Instance Group
Protocol: TCP
Named Port: webserver80 (AUTO-POPULATED WHEN BACKEND IS SELECTED AS mig1-lbdemo)
Timeout: 30
IP address selection policy: Only IPv4
BACKENDS
IP stack type: IPv4 (single stack)
Instance Group: mig1-us-central1
Port Numbers: 80
REST ALL LEAVE TO DEFAULTS
Click on DONE
Instance Group: mig1-us-east1
Port Numbers: 80
REST ALL LEAVE TO DEFAULTS
Click on DONE
Enter fullscreen mode
Exit fullscreen mode
Health Check: global-tcp-health-check
Frontend Configuration
Click on ADD FRONTEND IP AND PORT
Name: frontend-tcp
Description: frontend-tcp
Protocol: TCP
Network Service Tier: Premium (Current project-level tier, change)
IP Version: IPv4
IP Address: global-lb-ip5 CREATE NEW EXTERNAL STATCI IP
Port: 80
Proxy protocol: OFF
Review and Finalize
Review all settings
Click on CREATE
Step-03: Verify Load Balancer
Go to Network Services -> Load Balancing -> global-lb-external-tcp
Review the Tabs
LOAD BALANCERS
BACKENDS
FRONTENDS
Enter fullscreen mode
Exit fullscreen mode
Step-04: Access Application using LB IP on browser
Important Note: WAIT FOR 3 to 5 Minutes before Load Balancer is fully operational
Step-05: Test multi-region functionality (Send traffic to region closest to client)
To simulate a user in a different geography, you can connect to one of your virtual machine instances in a different region, and then run a curl command from that instance to see the request go to an instance in the region closest to it.
# Set Project
gcloud config set project PROJECT_ID
gcloud config set project gcpdemos
# Region: us-central1
gcloud compute ssh --zone "us-central1-c" "mig1-us-central1-xq12"
curl http://LB-IP
curl http://34.36.49.82/
# Region: us-east1
gcloud compute ssh --zone "us-east1-d" "mig2-us-east1-693l"
curl http://LB-IP
curl http://34.36.49.82/
Enter fullscreen mode
Exit fullscreen mode
Step-06: Delete Load Balancer
Delete the Load balancer created as part of this demo.
üåü Thanks for reading! If this post added value, a like ‚ù§Ô∏è, follow, or share would encourage me to keep creating more content.
‚Äî Latchu | Senior DevOps & Cloud Engineer
‚òÅÔ∏è AWS | GCP | ‚ò∏Ô∏è Kubernetes | üîê Security | ‚ö° Automation
üìå Sharing hands-on guides, best practices & real-world cloud solutions
Top comments (0)
Subscribe
Personal
Trusted User
Create template
Templates let you quickly answer FAQs or store snippets for re-use.
Submit
Preview
Dismiss
Code of Conduct
‚Ä¢
Report abuse
Are you sure you want to hide this comment? It will become hidden in your post, but will still be visible via the comment's permalink.
Hide child comments as well
Confirm
For further actions, you may consider blocking this person and/or reporting abuse
Latchu@DevOps
Follow
Infra. Automation. Impact
Location
Chennai, India
Work
Senior DevOps and Cloud Architect at 6thforce Solutions
Joined
Apr 10, 2025
More from Latchu@DevOps
Part-83: üöÄExpose a Pod with Google Kubernetes Engine Load balancer Service in GCP (Imperative way)
#kubernetes
#cloud
#devops
#learning
Part-82: Kubernetes Service ‚Äî LoadBalancer
#kubernetes
#devops
#learning
#cloud
Part-81: Kubernetes ‚Äî PODs (Imperative Way) Demo
#kubernetes
#cloud
#devops
#learning
üíé DEV Diamond Sponsors
Thank you to our Diamond Sponsors for supporting the DEV Community
Google AI is the official AI Model and Platform Partner of DEV
Neon is the official database partner of DEV
Algolia is the official search partner of DEV
DEV Community ‚Äî A space to discuss and keep up software development and manage your software career
Home
DEV++
Welcome Thread
Podcasts
Videos
Tags
DEV Education Tracks
DEV Challenges
DEV Help
Advertise on DEV
DEV Showcase
About
Contact
Forem Shop
Code of Conduct
Privacy Policy
Terms of Use
Built on Forem ‚Äî the open source software that powers DEV and other inclusive communities.
Made with love and Ruby on Rails. DEV Community ¬© 2016 - 2025.
We're a place where coders share, stay up-to-date and grow their careers.
Log in
Create account