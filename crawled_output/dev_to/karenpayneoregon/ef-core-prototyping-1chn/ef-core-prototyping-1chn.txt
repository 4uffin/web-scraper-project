EF Core prototyping - DEV Community
Forem Feed
Follow new Subforems to improve your feed
DEV Community
Follow
A space to discuss and keep up software development and manage your software career
Gamers Forem
Follow
An inclusive community for gaming enthusiasts
Future
Follow
News and discussion of science and technology such as AI, VR, cryptocurrency, quantum computing, and more.
Music Forem
Follow
From composing and gigging to gear, hot music takes, and everything in between.
Vibe Coding Forem
Follow
Discussing AI software development, and showing off what we're building.
DUMB DEV Community
Follow
Memes and software development shitposting
Popcorn Movies and TV
Follow
Movie and TV enthusiasm, criticism and everything in-between.
Design Community
Follow
Web design, graphic design and everything in-between
Maker Forem
Follow
A community for makers, hobbyists, and professionals to discuss Arduino, Raspberry Pi, 3D printing, and much more.
Scale Forem
Follow
For engineers building software at scale. We discuss architecture, cloud-native, and SRE—the hard-won lessons you can't just Google
Forem Core
Follow
Discussing the core forem open source software project — features, bugs, performance, self-hosting.
Security Forem
Follow
Your central hub for all things security. From ethical hacking and CTFs to GRC and career development, for beginners and pros alike
Open Forem
Follow
A general discussion space for the Forem community. If it doesn't have a home elsewhere, it belongs here
Crypto Forem
Follow
A collaborative community for all things Crypto—from Bitcoin to protocol development and DeFi to NFTs and market analysis.
Dropdown menu
Dropdown menu
Skip to content
Navigation menu
Search
Powered by Algolia
Search
Log in
Create account
DEV Community
Close
Add reaction
Like
Unicorn
Exploding Head
Raised Hands
Fire
Jump to Comments
Save
Boost
More...
Moderate
Copy link
Copy link
Copied to Clipboard
Share to X
Share to LinkedIn
Share to Facebook
Share to Mastodon
Report Abuse
Karen Payne
Posted on Sep 20
EF Core prototyping
#csharp
#dotnetcore
#database
C# (58 Part Series)
1
SQL-Server: Exploration of datetime2(7) precision (C#)
2
Reveal Data provider parameter values at run time
...
54 more parts...
3
C# Generic Math
4
Working with .zip files in C#
5
Working with the using directive in C#
6
C# .NET Tools with System.CommandLine
7
C# Language extensions
8
Tips on interacting with a database with C#
9
Update Bootstrap in Visual Studio
10
C# Different way to join string array
11
ASP.NET Core/Razor Pages export to Excel
12
Using FluentScheduler with C#
13
Visual Studio debugging windows services
14
C# User-defined explicit and implicit conversion operators
15
Gentle introduction for generics (C#)
16
Bogus custom Dataset
17
Gentle introduction to Generic Repository Pattern with C#
18
C# System.Text.Json
19
Gentle introduction to IDataProtector (C#)
20
Multiple connections for appsettings.json (C#)
21
Get SQL-Server Stored Procedures with C#
22
C# PeriodicTimer
23
C# Excel read/write on the cheap
24
Push your skills Part 1
25
Developer's format helpers
26
C# Dealing with duplicates
27
Push your skills Part 2
28
ASP.NET Core DI constructor with parameters
29
Model Notification changed C#
30
NodaTime – time offsets C#
31
Source-generated RegEx (C#)
32
EF Core queries for unmapped types part 1
33
Learn FormattableString (C#)
34
Bogus DateOnly/TimeOnly
35
C# different way to do a proof of concept
36
Spectre.Console helpers
37
C# System.Text.Json JsonConverter masking
38
Regex timeout - C#
39
Storing passwords safely (C#)
40
NET6 - C# DistinctBy
41
Window Forms Dark mode
42
C# Search by multiple strings
43
Hidden NET 9 gems
44
NET 9 BinaryFormatter migration paths
45
Iterations
46
Working with interfaces
47
Extend ConfigurationBuilder
48
Using Key-per-file configuration provider
49
ChatGPT custom GPT and C#
50
Bootstrap 5 dialogs for ASP .NET Core/C# using ChatGPT
51
EF Core seeding data
52
Import specific properties from JSON
53
C# Override Records ToString
54
Get user secrets for projects
55
Visual Studio shared user secrets
56
C# Excel sortable headers
57
C# partial keyword usage
58
EF Core prototyping
Introduction
When designing a database schema, it's a good idea to load the development database with mocked data and run various SELECT, UPDATE, DELETE, and INSERT statements to ensure the schema fulfills business requirements.
Data provider
Microsoft SQL Server is used in the provided source code.
Prototype project
Source code in BaseContextExampleApp project
Create a Console project with an appsettings.json file containing the development database connection string and a method to read it.
Here, the connection string in appsettings came from an ASP.NET Core project, which will be used for the database. ASP.NET Core-specific settings are not needed and do not harm anything.
{
"Logging": {
"LogLevel": {
"Default": "Information",
"Microsoft.AspNetCore": "Warning"
}
},
"AllowedHosts": "*",
"ConnectionStrings": {
"MainConnection": "Data Source=(localdb)\\MSSQLLocalDB;Initial Catalog=BirthDaysDatabase;Integrated Security=True;Encrypt=False"
}
}
Enter fullscreen mode
Exit fullscreen mode
The connection string will be used in a custom class below (included in the source code in a class project).
public abstract class ProtoTypeContext() : DbContext(BuildOptions())
{
private static DbContextOptions BuildOptions()
{
var builder = new DbContextOptionsBuilder()
.UseSqlServer(AppConnections.Instance.MainConnection);
// NOTE - adjust based on your environment variable setup
var env = Environment.GetEnvironmentVariable("CONSOLE_ENVIRONMENT") ?? "Production";
if (env.Equals("Development", StringComparison.OrdinalIgnoreCase))
{
builder.EnableSensitiveDataLogging()
.LogTo(message => Debug.WriteLine(message), LogLevel.Information);
}
return builder.Options;
}
}
Enter fullscreen mode
Exit fullscreen mode
Add appropriate EF Core NuGet packages to the console project.
Configure the database e.g. code first or database first.
Add the class project EnityLibrary as a project reference to the console project.
Alter the DbContext from
public partial class Context : DbContext
Enter fullscreen mode
Exit fullscreen mode
To
public partial class Context : ProtoTypeContext
Enter fullscreen mode
Exit fullscreen mode
ℹ️ The PrototypeContext class provides a consistent way for each prototype or any console project that does not need dependency injection.
Differences between console and ASP.NET Core projects
The differences are very minor meaning that going from console to ASP.NET Core are easy.
Write EF Core statements
When writing code, consider writing for each model in its own class to keep it clean. Once you are satisfied, you can move to the ASP.NET Core project.
ASP.NET Core project
Source code in BirthDaysApp project
Registering the DbContext
builder.Services.AddDbContext<Context>(options => options.UseSqlServer(
builder.Configuration.GetConnectionString("MainConnection")));
Enter fullscreen mode
Exit fullscreen mode
Summary
When used for all prototyping, the approach presented provides a repeatable pattern and consistency, rather than handling each project differently.
Class project
Console project
ASP.NET Core project
C# (58 Part Series)
1
SQL-Server: Exploration of datetime2(7) precision (C#)
2
Reveal Data provider parameter values at run time
...
54 more parts...
3
C# Generic Math
4
Working with .zip files in C#
5
Working with the using directive in C#
6
C# .NET Tools with System.CommandLine
7
C# Language extensions
8
Tips on interacting with a database with C#
9
Update Bootstrap in Visual Studio
10
C# Different way to join string array
11
ASP.NET Core/Razor Pages export to Excel
12
Using FluentScheduler with C#
13
Visual Studio debugging windows services
14
C# User-defined explicit and implicit conversion operators
15
Gentle introduction for generics (C#)
16
Bogus custom Dataset
17
Gentle introduction to Generic Repository Pattern with C#
18
C# System.Text.Json
19
Gentle introduction to IDataProtector (C#)
20
Multiple connections for appsettings.json (C#)
21
Get SQL-Server Stored Procedures with C#
22
C# PeriodicTimer
23
C# Excel read/write on the cheap
24
Push your skills Part 1
25
Developer's format helpers
26
C# Dealing with duplicates
27
Push your skills Part 2
28
ASP.NET Core DI constructor with parameters
29
Model Notification changed C#
30
NodaTime – time offsets C#
31
Source-generated RegEx (C#)
32
EF Core queries for unmapped types part 1
33
Learn FormattableString (C#)
34
Bogus DateOnly/TimeOnly
35
C# different way to do a proof of concept
36
Spectre.Console helpers
37
C# System.Text.Json JsonConverter masking
38
Regex timeout - C#
39
Storing passwords safely (C#)
40
NET6 - C# DistinctBy
41
Window Forms Dark mode
42
C# Search by multiple strings
43
Hidden NET 9 gems
44
NET 9 BinaryFormatter migration paths
45
Iterations
46
Working with interfaces
47
Extend ConfigurationBuilder
48
Using Key-per-file configuration provider
49
ChatGPT custom GPT and C#
50
Bootstrap 5 dialogs for ASP .NET Core/C# using ChatGPT
51
EF Core seeding data
52
Import specific properties from JSON
53
C# Override Records ToString
54
Get user secrets for projects
55
Visual Studio shared user secrets
56
C# Excel sortable headers
57
C# partial keyword usage
58
EF Core prototyping
Top comments (0)
Subscribe
Personal
Trusted User
Create template
Templates let you quickly answer FAQs or store snippets for re-use.
Submit
Preview
Dismiss
Code of Conduct
•
Report abuse
Are you sure you want to hide this comment? It will become hidden in your post, but will still be visible via the comment's permalink.
Hide child comments as well
Confirm
For further actions, you may consider blocking this person and/or reporting abuse
Karen Payne
Follow
Microsoft MVP x 12, Microsoft TechNet author, Code magazine author, developer advocate.
Have a passion for driving race cars.
Location
Oregon, USA
Education
Montgomery Community College
Pronouns
She, her
Work
Contractor
Joined
Jan 1, 2023
More from Karen Payne
C# partial keyword usage
#csharp
#dotnetcore
#devops
ASP.NET Core show/hide password
#webdev
#frontend
#dotnetcore
Create C# nested files in Visual Studio
#csharp
#ai
#tutorial
💎 DEV Diamond Sponsors
Thank you to our Diamond Sponsors for supporting the DEV Community
Google AI is the official AI Model and Platform Partner of DEV
Neon is the official database partner of DEV
Algolia is the official search partner of DEV
DEV Community — A space to discuss and keep up software development and manage your software career
Home
DEV++
Welcome Thread
Podcasts
Videos
Tags
DEV Education Tracks
DEV Challenges
DEV Help
Advertise on DEV
DEV Showcase
About
Contact
Forem Shop
Code of Conduct
Privacy Policy
Terms of Use
Built on Forem — the open source software that powers DEV and other inclusive communities.
Made with love and Ruby on Rails. DEV Community © 2016 - 2025.
We're a place where coders share, stay up-to-date and grow their careers.
Log in
Create account