From SVG to PNG: Copy & Download with Konva.js - DEV Community
Forem Feed
Follow new Subforems to improve your feed
DEV Community
Follow
A space to discuss and keep up software development and manage your software career
Gamers Forem
Follow
An inclusive community for gaming enthusiasts
Future
Follow
News and discussion of science and technology such as AI, VR, cryptocurrency, quantum computing, and more.
Music Forem
Follow
From composing and gigging to gear, hot music takes, and everything in between.
Vibe Coding Forem
Follow
Discussing AI software development, and showing off what we're building.
DUMB DEV Community
Follow
Memes and software development shitposting
Popcorn Movies and TV
Follow
Movie and TV enthusiasm, criticism and everything in-between.
Design Community
Follow
Web design, graphic design and everything in-between
Maker Forem
Follow
A community for makers, hobbyists, and professionals to discuss Arduino, Raspberry Pi, 3D printing, and much more.
Scale Forem
Follow
For engineers building software at scale. We discuss architecture, cloud-native, and SRE‚Äîthe hard-won lessons you can't just Google
Forem Core
Follow
Discussing the core forem open source software project ‚Äî features, bugs, performance, self-hosting.
Security Forem
Follow
Your central hub for all things security. From ethical hacking and CTFs to GRC and career development, for beginners and pros alike
Open Forem
Follow
A general discussion space for the Forem community. If it doesn't have a home elsewhere, it belongs here
Crypto Forem
Follow
A collaborative community for all things Crypto‚Äîfrom Bitcoin to protocol development and DeFi to NFTs and market analysis.
Dropdown menu
Dropdown menu
Skip to content
Navigation menu
Search
Powered by Algolia
Search
Log in
Create account
DEV Community
Close
Add reaction
Like
Unicorn
Exploding Head
Raised Hands
Fire
Jump to Comments
Save
Boost
More...
Moderate
Copy link
Copy link
Copied to Clipboard
Share to X
Share to LinkedIn
Share to Facebook
Share to Mastodon
Report Abuse
Athreya aka Maneshwar
Posted on Sep 20
From SVG to PNG: Copy & Download with Konva.js
#webdev
#programming
#javascript
#beginners
Hello, I'm Maneshwar. I'm working on FreeDevTools online currently building **one place for all dev tools, SVG icons, cheat codes, and TLDRs* ‚Äî a free, open-source hub where developers can quickly find and use tools without any hassle of searching all over the internet.
When you‚Äôre building an SVG icon library, one essential feature is the ability to export icons as PNGs.
PNGs are still the go-to format for many developers and designers because they‚Äôre universally supported and easy to drop into apps, documents, or design tools.
Instead of relying on server-side conversion or external graphics editors, we can do this entirely in the browser.
Enter Konva.js ‚Äî a 2D canvas framework that makes rendering, transforming, and exporting graphics simple.
In our project, we implemented two handy features for our icon library:
Copy as PNG ‚Üí places the PNG version of an SVG directly into the clipboard.
Download as PNG ‚Üí lets users pick a size (32px ‚Üí 512px) and download instantly.
üëâ Full implementation here:
CopyPngButton.tsx
DownloadPngButton.tsx
Why Konva.js?
You could technically draw an SVG into a <canvas> using the Canvas API.
But Konva provides a much more developer-friendly abstraction with:
Stages & Layers ‚Üí a clean way to structure drawings.
Image.fromURL ‚Üí easy image & SVG loading.
Stage.toDataURL ‚Üí export to PNG or JPEG in one call.
Built-in transformations (scale, position, rotate) without writing boilerplate math.
This makes it perfect for icon rendering, where precision and quality matter.
Setting up a Konva Stage
The first step in our flow is to create a hidden Konva stage. Since the user doesn‚Äôt need to see the rendering process, we mount it off-screen:
const stage = new Konva.Stage({
container: container,
// hidden temporary <div>
width: size,
height: size,
});
const layer = new Konva.Layer();
stage.add(layer);
Enter fullscreen mode
Exit fullscreen mode
üìñ Konva Stage docs
üìñ Konva Layer docs
Think of a Stage like a root canvas, and a Layer like a transparent sheet you can draw on.
You can stack multiple layers if needed.
Loading the SVG
Next, we load the raw SVG string into the Konva stage.
Since Konva works with image nodes, we first convert the SVG into a data URL:
const svgDataUrl = 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(svgData);
Konva.Image.fromURL(svgDataUrl, (imageNode) => {
// add imageNode to layer
});
Enter fullscreen mode
Exit fullscreen mode
üìñ Konva.Image.fromURL docs
Tip: make sure your SVG string has an xmlns attribute (xmlns="http://www.w3.org/2000/svg"). Without it, some browsers may fail to render.
Scaling & Centering the Icon
Icons rarely come in perfect square ratios.
If we just stretch them, they‚Äôll look distorted.
To keep the aspect ratio intact, we calculate it and fit the image to ~80% of the stage:
const imageAspect = imageNode.width() / imageNode.height();
if (imageAspect > 1) {
imageWidth = size * 0.8;
imageHeight = imageWidth / imageAspect;
} else {
imageHeight = size * 0.8;
imageWidth = imageHeight * imageAspect;
}
imageNode.setAttrs({
x: (size - imageWidth) / 2,
y: (size - imageHeight) / 2,
width: imageWidth,
height: imageHeight,
});
Enter fullscreen mode
Exit fullscreen mode
This way:
Wide icons scale down horizontally.
Tall icons scale down vertically.
Everything stays centered in the final PNG.
Exporting to PNG
The magic happens with Konva‚Äôs toDataURL method:
const dataURL = stage.toDataURL({
mimeType: 'image/png',
quality: 1,
pixelRatio: 2, // High DPI export
});
Enter fullscreen mode
Exit fullscreen mode
üìñ Stage.toDataURL docs
At this point, we have a base64 PNG string. From here, we can:
Clipboard path ‚Üí turn it into a Blob, wrap with ClipboardItem, and use navigator.clipboard.write().
Download path ‚Üí create a temporary <a> link, set href = dataURL, and trigger a click().
That‚Äôs all it takes!
üëâ Full code here:
Download PNG‚Üí lets users select output resolution (32px‚Äì512px) and saves as PNG.
Wrap-Up
With just a few Konva primitives (Stage, Layer, Image.fromURL, Stage.toDataURL), you can transform raw SVG icons into beautiful, transparent PNGs right in the browser.
Benefits of this approach:
100% client-side ‚Üí no servers, no latency.
Supports clipboard + download workflows.
Maintains sharpness & transparency.
Easy to extend (you could add backgrounds, shapes, or transformations).
If you‚Äôre building tools around SVGs, Konva is a fantastic choice, flexible enough for full-blown drawing apps, but lightweight enough for simple export utilities like ours.
I‚Äôve been building for FreeDevTools.
A collection of UI/UX-focused tools crafted to simplify workflows, save time, and reduce friction in searching tools/materials.
Any feedback or contributors are welcome!
It‚Äôs online, open-source, and ready for anyone to use.
üëâ Check it out: FreeDevTools
‚≠ê Star it on GitHub: freedevtools
Let‚Äôs make it even better together.
Top comments (0)
Subscribe
Personal
Trusted User
Create template
Templates let you quickly answer FAQs or store snippets for re-use.
Submit
Preview
Dismiss
Code of Conduct
‚Ä¢
Report abuse
Are you sure you want to hide this comment? It will become hidden in your post, but will still be visible via the comment's permalink.
Hide child comments as well
Confirm
For further actions, you may consider blocking this person and/or reporting abuse
Athreya aka Maneshwar
Follow
Technical Writer | 250k+ Reads | i3 x Mint | Learning, building, improving, writing :)
Joined
Jan 5, 2023
More from Athreya aka Maneshwar
What‚Äôs the Difference Between Redirect vs Rewrite
#webdev
#programming
#devops
#beginners
A Simple Guide to SVG and How It Works
#webdev
#programming
#javascript
#beginners
Using JSON-LD for SEO in Free DevTools & Icon Websites
#webdev
#programming
#javascript
#beginners
üíé DEV Diamond Sponsors
Thank you to our Diamond Sponsors for supporting the DEV Community
Google AI is the official AI Model and Platform Partner of DEV
Neon is the official database partner of DEV
Algolia is the official search partner of DEV
DEV Community ‚Äî A space to discuss and keep up software development and manage your software career
Home
DEV++
Welcome Thread
Podcasts
Videos
Tags
DEV Education Tracks
DEV Challenges
DEV Help
Advertise on DEV
DEV Showcase
About
Contact
Forem Shop
Code of Conduct
Privacy Policy
Terms of Use
Built on Forem ‚Äî the open source software that powers DEV and other inclusive communities.
Made with love and Ruby on Rails. DEV Community ¬© 2016 - 2025.
We're a place where coders share, stay up-to-date and grow their careers.
Log in
Create account