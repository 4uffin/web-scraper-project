How to set up Identity Federation between Google Cloud and Oracle Cloud - DEV Community
Forem Feed
Follow new Subforems to improve your feed
DEV Community
Follow
A space to discuss and keep up software development and manage your software career
Gamers Forem
Follow
An inclusive community for gaming enthusiasts
Future
Follow
News and discussion of science and technology such as AI, VR, cryptocurrency, quantum computing, and more.
Music Forem
Follow
From composing and gigging to gear, hot music takes, and everything in between.
Vibe Coding Forem
Follow
Discussing AI software development, and showing off what we're building.
DUMB DEV Community
Follow
Memes and software development shitposting
Popcorn Movies and TV
Follow
Movie and TV enthusiasm, criticism and everything in-between.
Design Community
Follow
Web design, graphic design and everything in-between
Maker Forem
Follow
A community for makers, hobbyists, and professionals to discuss Arduino, Raspberry Pi, 3D printing, and much more.
Scale Forem
Follow
For engineers building software at scale. We discuss architecture, cloud-native, and SREâ€”the hard-won lessons you can't just Google
Forem Core
Follow
Discussing the core forem open source software project â€” features, bugs, performance, self-hosting.
Security Forem
Follow
Your central hub for all things security. From ethical hacking and CTFs to GRC and career development, for beginners and pros alike
Open Forem
Follow
A general discussion space for the Forem community. If it doesn't have a home elsewhere, it belongs here
Crypto Forem
Follow
A collaborative community for all things Cryptoâ€”from Bitcoin to protocol development and DeFi to NFTs and market analysis.
Dropdown menu
Dropdown menu
Skip to content
Navigation menu
Search
Powered by Algolia
Search
Log in
Create account
DEV Community
Close
Add reaction
Like
Unicorn
Exploding Head
Raised Hands
Fire
Jump to Comments
Save
Boost
More...
Moderate
Copy link
Copy link
Copied to Clipboard
Share to X
Share to LinkedIn
Share to Facebook
Share to Mastodon
Report Abuse
Faris Durrani
Posted on Sep 12
How to set up Identity Federation between Google Cloud and Oracle Cloud
#oracle
#cloud
#gcp
#iam
How to set up Identity SAML Federation between Google Cloud Platform (GCP) and Oracle Cloud Infrastructure (OCI)
Setting up Identity Federation will allow users to log into OCI using their GCP IAM organization credentials, rather than logging in using a new username-password in OCI. This can improve credential management and security by having a central place to store all user logins.
We will replicate the steps in Oracle Docs: Task 6: Set Up Identity Federation (Optional) with some UI updates. This is an optional succession to the How to create an Oracle Autonomous Database@Google Cloud article we wrote.
Prerequisites
Have an OCI account
Have a GCP account and an associating GCP Workspace IAM Admin console at https://admin.google.com. Note that this requires you having and associating a private
DNS domain (e.g. example.com) to the Google Cloud Admin console
1. Create groups in GCP Admin Console
While not strictly necessary, this helps to confirm the JIT (Just-in-time) provisioning works as intended. You can create any group but we recommend at least one group name already present in OCI and GCP ("odbg-db-family-administrators") and one other only present in GCP ("example-group415") for POC purposes.
We create a number of groups in the GCP Admin console: https://admin.google.com/u/1/ac/groups. If you came from the Oracle Database@Google Cloud article, we created the groups for Autonomous Database access based on Oracle Docs: Task 5: Set Up Role Based Access Control:
2. Create a new custom SAML app in GCP
Go to https://admin.google.com/u/1/ac/apps/unified and click on Add app > Add custom SAML app.
We added the following app details:
App name: OracleCloudFederation
Description: Configures identity federation between Google Cloud and Oracle Cloud for Oracle Database@Google Cloud use.
Click CONTINUE.
In the next page, Download Metadata. Leave this page open for now.
3. Add SAML IdP in OCI
Log into your OCI account. Go to â˜° Menu > Identity & Security > Domains > Default (or another domain) > Federation > Actions > Add SAML IdP.
We give the SAML identity provider a random name:
Import the downloaded IdP metadata from GCP:
Leave this page open.
4. Add SAML IdP in GCP
Click on Export SAML metadata to export the OCI SAML metadata details.
Switch view from Metadata file to Manual export.
Go back to the GCP Admin page. Click CONTINUE.
Copy paste the OCI values into GCP like so:
GCP
OCI
ACS URL
Assertion consumer service URL
Entity ID
Provider ID
Leave the Name ID details as their default.
Click CONTINUE.
4. Add attribute mapping in GCP
In the next page, add the following attribute
First name â†’ FirstName
Last name â†’ LastName
Primary email â†’ PrimaryEmail
Under the Group membership section, add all the groups of the users you want to be sent to OCI. Enter the App attribute MemberOf. Click FINISH.
5. Turn on User access in GCP
In the next page showing the SAML app details, click on User access
Switch to ON for everyone. Click SAVE.
6. Finish SAML app creation in OCI
Go back to the OCI page. We finished importing GCP's IdP metadata file. Click Next.
Change Requested Name ID format to Email address. Click Next and Create IdP.
7. Activate and add to IdP policy
Now we want to activate our newly-created IdP app and add it as an option to the login policy. Click the app.
Click on the Activate IdP button (under Actions or in the banner).
Next, we need to add the IdP app to the IdP policy. Go back to the Federation page and click on the Default Identity Provider Policy.
Under the Identity provider rules, edit the first IdP rule.
Add the newly-created IdP app to the list of Assign identity providers. Click Save changes.
Now you can login but without any groups.
8. Set up JIT
To enable the user's groups in GCP to appear in OCI and sync the user's group membership, we need to enable Just-in-time (JIT) provisioning so the group membership info can be shared from GCP to OCI.
Go back to the Federation page and click on the IdP app.
Click Actions > Configure JIT.
Enable these settings:
Enable Just-In-Time (JIT) provisioning
Create a new identity domain user
Update the existing identity domain user
Add these Map user attributes info:
IdP user attribute type
IdP user attribute name
Maps to
Identity domain user attributes
NameID
NameID value
â†’
User Name
Attribute
LastName
â†’
Last name
Attribute
PrimaryEmail
â†’
Primary Work Email
Attribute
FirstName
â†’
First name
Now, we assign group mappings. Enter the following values:
Group membership attribute name: MemberOf
Assign implicit group membership: Select this
When assigning group membership...: Merge with existing group memberships
When a group is not found...: Ignore the missing group
Click Update.
9. Verify Federated login
We are done! Now, we need to test the OCI login using GCP credentials.
Log out of OCI as necessary. Log in to your OCI account at https://cloud.oracle.com. You should see your GCP login option here.
Log in using that button, which should lead you to your GCP login, and your successful OCI login.
â„¹ Troubleshoot: if the login is unsuccessful, check back the OCI JIT settings are correct.
We'll log out and log back in as the OCI admin so we can see all the groups and users added.
Here, we can see my GCP user added to the OCI list of users.
And I can see that new user is a member of the "odbg-db-family-administrators" group, which that user is in GCP. Note that while the user is also in the GCP group "example-group415", this group did not get transferred into OCI because that group was never created in OCI in the first place. The JIT only matches groups present in both OCI and GCP.
You now have successfully created an identity federation from GCP to OCI.
References
Oracle Docs: Task 6: Set Up Identity Federation (Optional)
Safe harbor statement
The information provided on this channel/article/story is solely intended for informational purposes and cannot be used as a part of any contractual agreement. The content does not guarantee the delivery of any material, code, or functionality, and should not be the sole basis for making purchasing decisions. The postings on this site are my own and do not necessarily reflect the views or work of Oracle or Mythics, LLC.
This work is licensed under a Creative Commons Attribution 4.0 International License.
Top comments (0)
Subscribe
Personal
Trusted User
Create template
Templates let you quickly answer FAQs or store snippets for re-use.
Submit
Preview
Dismiss
Code of Conduct
â€¢
Report abuse
Are you sure you want to hide this comment? It will become hidden in your post, but will still be visible via the comment's permalink.
Hide child comments as well
Confirm
For further actions, you may consider blocking this person and/or reporting abuse
Faris Durrani
Follow
Software Engineer at Mythics, LLC
Location
Atlanta, GA
Education
Georgia Tech
Pronouns
he/him
Work
Software Engineer at Mythics, LLC
Joined
Nov 4, 2021
More from Faris Durrani
How to set up Interconnect / FastConnect between GCP and OCI
#gcp
#oci
#networking
#cloud
How to create an Oracle Autonomous Database@Google Cloud
#oracle
#cloud
#database
#gcp
How to write Hello World in Oracle SQL
#oracle
#sql
ðŸ’Ž DEV Diamond Sponsors
Thank you to our Diamond Sponsors for supporting the DEV Community
Google AI is the official AI Model and Platform Partner of DEV
Neon is the official database partner of DEV
Algolia is the official search partner of DEV
DEV Community â€” A space to discuss and keep up software development and manage your software career
Home
DEV++
Welcome Thread
Podcasts
Videos
Tags
DEV Education Tracks
DEV Challenges
DEV Help
Advertise on DEV
DEV Showcase
About
Contact
Forem Shop
Code of Conduct
Privacy Policy
Terms of Use
Built on Forem â€” the open source software that powers DEV and other inclusive communities.
Made with love and Ruby on Rails. DEV Community Â© 2016 - 2025.
We're a place where coders share, stay up-to-date and grow their careers.
Log in
Create account