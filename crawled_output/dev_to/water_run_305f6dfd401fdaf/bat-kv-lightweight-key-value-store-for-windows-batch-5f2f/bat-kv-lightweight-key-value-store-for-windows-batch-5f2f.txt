Bat-KV: Lightweight Key-Value Store for Windows Batch - DEV Community
Forem Feed
Follow new Subforems to improve your feed
DEV Community
Follow
A space to discuss and keep up software development and manage your software career
Gamers Forem
Follow
An inclusive community for gaming enthusiasts
Future
Follow
News and discussion of science and technology such as AI, VR, cryptocurrency, quantum computing, and more.
Music Forem
Follow
From composing and gigging to gear, hot music takes, and everything in between.
DUMB DEV Community
Follow
Memes and software development shitposting
Vibe Coding Forem
Follow
Discussing AI software development, and showing off what we're building.
Popcorn Movies and TV
Follow
Movie and TV enthusiasm, criticism and everything in-between.
Design Community
Follow
Web design, graphic design and everything in-between
Maker Forem
Follow
A community for makers, hobbyists, and professionals to discuss Arduino, Raspberry Pi, 3D printing, and much more.
Scale Forem
Follow
For engineers building software at scale. We discuss architecture, cloud-native, and SREâ€”the hard-won lessons you can't just Google
Forem Core
Follow
Discussing the core forem open source software project â€” features, bugs, performance, self-hosting.
Security Forem
Follow
Your central hub for all things security. From ethical hacking and CTFs to GRC and career development, for beginners and pros alike
Open Forem
Follow
A general discussion space for the Forem community. If it doesn't have a home elsewhere, it belongs here
Crypto Forem
Follow
A collaborative community for all things Cryptoâ€”from Bitcoin to protocol development and DeFi to NFTs and market analysis.
Dropdown menu
Dropdown menu
Skip to content
Navigation menu
Search
Powered by Algolia
Search
Log in
Create account
DEV Community
Close
Add reaction
Like
Unicorn
Exploding Head
Raised Hands
Fire
Jump to Comments
Save
Boost
More...
Moderate
Copy link
Copy link
Copied to Clipboard
Share to X
Share to LinkedIn
Share to Facebook
Share to Mastodon
Report Abuse
Water Run
Posted on Sep 21
Bat-KV: Lightweight Key-Value Store for Windows Batch
#database
#programming
#tooling
#opensource
Bat-KV: An Ultra-Lightweight Database for Windows Batch (.bat)
Windows batch scripting is notoriously tricky, especially when it comes to persisting simple data.
Bat-KV is an open-source, single-file key-value database designed for .bat scripts. It provides the basic CRUD operations, wraps some simple APIs, and is quick to pick up.
If this project helps you, consider giving it a Star on GitHub.
GitHub
Bat-KV Basics
Storage Files
File Extension: .bkv (Batch Key-Value)
Format: One key-value pair per line, separated by a backslash \
username\Alice
age\25
city\Beijing
Enter fullscreen mode
Exit fullscreen mode
Default Filename: _BATKV.bkv
Encoding: ANSI recommended for platform compatibility
Key Constraints:
Only English letters, digits, and underscores allowed
Maximum length of 36 characters
Case-sensitive
Naming Conventions
Public Functions: Start with BKV., e.g., BKV.New, BKV.Fetch
Private Functions: Start with BKV.Private., not intended for external use
Internal Variables: Start with BKV.Inner., not intended for external access
Return Variables:
BKV_STATUS: Execution result (OK / NotOK)
BKV_RESULT: Data returned by queries (e.g., BKV.Fetch value)
BKV_ERR: Error detail if failure occurs, in the format Bat-KV ERR: [message]
Download & Installation
Getting Bat-KV
Go to the GitHub Release page
Download Bat-KV.zip
Extract and locate the core file Bat-KV.bat
Importing
Local Use: Place Bat-KV.bat in the same directory as your batch script, call it directly
Relative Path: If the file is in a subdirectory or parent directory, prefix the path
Global Use: Add the directory containing Bat-KV.bat to your system PATH environment variable
Example:
REM Current directory
call Bat-KV.bat :BKV.New
REM Subdirectory
call lib\Bat-KV.bat :BKV.New "mydata.bkv"
REM Parent directory
call ..\Bat-KV.bat :BKV.Fetch "username"
Enter fullscreen mode
Exit fullscreen mode
Quick Start
A minimal example including creating a database, writing, reading, and deleting data:
@echo off
REM Create database
call Bat-KV.bat :BKV.New
echo Create status: %BKV_STATUS%
REM Insert data
call Bat-KV.bat :BKV.Append "name" "Alice"
call Bat-KV.bat :BKV.Append "age" "25"
REM Read data
call Bat-KV.bat :BKV.Fetch "name"
echo Name: %BKV_RESULT%
REM Check key existence
call Bat-KV.bat :BKV.Include "email"
if "%BKV_RESULT%"=="No" (
call Bat-KV.bat :BKV.Append "email" "alice@example.com"
)
REM Delete data
call Bat-KV.bat :BKV.Remove "age"
echo Remove status: %BKV_STATUS%
pause
Enter fullscreen mode
Exit fullscreen mode
API Quick Reference
BKV.New
Create a new database file. Existing files are not overwritten.
call Bat-KV.bat :BKV.New "config.bkv"
Enter fullscreen mode
Exit fullscreen mode
BKV.Append
Insert or update a key-value pair.
call Bat-KV.bat :BKV.Append "username" "Alice"
Enter fullscreen mode
Exit fullscreen mode
BKV.Fetch
Read the value of a given key.
call Bat-KV.bat :BKV.Fetch "username"
echo User: %BKV_RESULT%
Enter fullscreen mode
Exit fullscreen mode
BKV.Remove
Remove a key-value pair. Returns success even if the key does not exist.
call Bat-KV.bat :BKV.Remove "username"
Enter fullscreen mode
Exit fullscreen mode
BKV.Include
Check if a key exists.
call Bat-KV.bat :BKV.Include "db_host"
if "%BKV_RESULT%"=="No" (
call Bat-KV.bat :BKV.Append "db_host" "localhost"
)
Enter fullscreen mode
Exit fullscreen mode
Full Documentation
For complete documentation and example programs, refer to the GitHub main repository and the scripts attached to the Release.
Top comments (0)
Subscribe
Personal
Trusted User
Create template
Templates let you quickly answer FAQs or store snippets for re-use.
Submit
Preview
Dismiss
Code of Conduct
â€¢
Report abuse
Are you sure you want to hide this comment? It will become hidden in your post, but will still be visible via the comment's permalink.
Hide child comments as well
Confirm
For further actions, you may consider blocking this person and/or reporting abuse
Water Run
Follow
Location
Fujian, China
Joined
Aug 7, 2025
More from Water Run
SimpSave: Minimalistic and Immediate Python Data Persistence for Student Projects and Lightweight Scripts
#python
#opensource
#keyvalue
#beginners
luaToEXE: Compile Lua Scripts to Standalone Windows Executables
#lua
#python
#packaging
#opensource
ðŸ’Ž DEV Diamond Sponsors
Thank you to our Diamond Sponsors for supporting the DEV Community
Google AI is the official AI Model and Platform Partner of DEV
Neon is the official database partner of DEV
Algolia is the official search partner of DEV
DEV Community â€” A space to discuss and keep up software development and manage your software career
Home
Welcome Thread
Reading List
Tags
About
Contact
Code of Conduct
Privacy Policy
Terms of Use
Built on Forem â€” the open source software that powers DEV and other inclusive communities.
Made with love and Ruby on Rails. DEV Community Â© 2016 - 2025.
We're a place where coders share, stay up-to-date and grow their careers.
Log in
Create account