Mi propio procesador de textos en ZX Sinclair BASIC - DEV Community
Forem Feed
Follow new Subforems to improve your feed
DEV Community
Follow
A space to discuss and keep up software development and manage your software career
Gamers Forem
Follow
An inclusive community for gaming enthusiasts
Future
Follow
News and discussion of science and technology such as AI, VR, cryptocurrency, quantum computing, and more.
Music Forem
Follow
From composing and gigging to gear, hot music takes, and everything in between.
Vibe Coding Forem
Follow
Discussing AI software development, and showing off what we're building.
DUMB DEV Community
Follow
Memes and software development shitposting
Popcorn Movies and TV
Follow
Movie and TV enthusiasm, criticism and everything in-between.
Design Community
Follow
Web design, graphic design and everything in-between
Maker Forem
Follow
A community for makers, hobbyists, and professionals to discuss Arduino, Raspberry Pi, 3D printing, and much more.
Scale Forem
Follow
For engineers building software at scale. We discuss architecture, cloud-native, and SRE‚Äîthe hard-won lessons you can't just Google
Forem Core
Follow
Discussing the core forem open source software project ‚Äî features, bugs, performance, self-hosting.
Security Forem
Follow
Your central hub for all things security. From ethical hacking and CTFs to GRC and career development, for beginners and pros alike
Open Forem
Follow
A general discussion space for the Forem community. If it doesn't have a home elsewhere, it belongs here
Crypto Forem
Follow
A collaborative community for all things Crypto‚Äîfrom Bitcoin to protocol development and DeFi to NFTs and market analysis.
Dropdown menu
Dropdown menu
Skip to content
Navigation menu
Search
Powered by Algolia
Search
Log in
Create account
DEV Community
Close
Add reaction
Like
Unicorn
Exploding Head
Raised Hands
Fire
Jump to Comments
Save
Boost
More...
Moderate
Copy link
Copy link
Copied to Clipboard
Share to X
Share to LinkedIn
Share to Facebook
Share to Mastodon
Report Abuse
Baltasar Garc√≠a Perez-Schofield
Posted on Sep 17
‚Ä¢ Edited on Sep 19
Mi propio procesador de textos en ZX Sinclair BASIC
#spanish
#sinclair
#basic
#string
Cadenas de caracteres (5 Part Series)
1
Cadenas de caracteres en C
2
Cadenas de caracteres en Basic y Pascal
3
Cadenas de caracteres... en el BASIC del ZX Spectrum
4
Mi propio procesador de textos en ZX Sinclair BASIC
5
Mi propio procesador de textos en ZX Sinclair BASIC (y II)
Cuando era un tierno preadolescente, me dedicaba a jugar con mi Investr√≥nica/Sinclair Spectrum 128k, perpetrando mis propios juegos y mis propias aventuras conversacionales o juegos de texto, algo que como puedes ver en el anterior enlace, no he dejado en la actualidad.
El caso es que, ya como adolescente, me hubiera venido muy bien un ordenador como el Amstrad CPC 6128, con su diskettera de 3", su software de procesamiento de textos, Tassword y su CP/M. Pero por aquel entonces... ¬°jam√°s lo hubiera admitido!
Tambi√©n lo hab√≠a para Speccy, pero desde luego era mucho mejor si ten√≠as unidad de disco. Aparecer√≠a con el tiempo para el Sinclair +3, claro.
Les ped√≠ a mis padres una impresora, recibiendo por reyes una impresora Investr√≥nica de matriz de puntos. Esta impresora estaba pensada para un PC, con su modo est√°ndar de 80 columnas. Se conectaba al Spectrum mediante un puerto serie RS232, solo el 128 ten√≠a este puerto (aunque el enchufe f√≠sico no era el est√°ndar) a un conversor a paralelo (pensado para el Sinclair QL), y entonces, una vez que ten√≠as el texto a imprimir en una cadena de caracteres, por ejemplo, mediante el editor de textos integrado en ROM:
edit t$
Enter fullscreen mode
Exit fullscreen mode
Solo ten√≠as que hacer un lprint.
lprint t$
Enter fullscreen mode
Exit fullscreen mode
¬°Y el texto m√°gicamente pasaba al papel! Solo hab√≠a un peque√±o, peque√±√≠simo problema: el Spectrum solo ten√≠a 32 columnas, de forma que el texto impreso quedaba... digamos que con un gran margen por la derecha.
1
2
3
4
5
6
7
8
---------0---------0---------0---------0---------0---------0---------0---------0
Lorem ipsum dolor sit amet,
consectetur adipiscing elit,
sed do eiusmod tempor
incididunt ut labore et dolore
magna aliqua. Ut enim ad minim
veniam, quis nostrud
exercitation ullamco laboris
nisi ut aliquip ex ea commodo
consequat. Duis aute irure
dolor in reprehenderit in
voluptate velit esse cillum
dolore eu fugiat nulla
pariatur. Excepteur sint
occaecat cupidatat non
proident, sunt in culpa qui
officia deserunt mollit anim id
est laborum.
Enter fullscreen mode
Exit fullscreen mode
Quiz√°s te est√©s preguntando c√≥mo era posible tener un texto de una gran longitud en una sola cadena de caracteres. Este manejo de string era una de las potencias de Sinclair BASIC.
Hice un peque√±√≠simo programa que permit√≠a introducir un texto a base de p√°rrafos let t$ = t$ + p$, y ten√≠a una opci√≥n para imprimir, que solo hac√≠a lprint t$.
1. Nuevo p√°rrafo
2. Ver texto
3. Imprimir texto
4. Borrar texto
Opci√≥n:
Enter fullscreen mode
Exit fullscreen mode
¬øHas visto la opci√≥n 4? No, no preguntaba si estabas seguro de querer borrar todo el texto. En la siguiente versi√≥n, s√≠, te preguntaba si estabas realmente seguro de querer borrar el texto. No me preguntes por qu√© inclu√≠ esa pregunta de seguridad.
Mi primera aproximaci√≥n al problema era no hacer absolutamente nada: ya ser√≠a mala suerte que una palabra quedase cortada por el borde derecho, ¬øno?
1
2
3
4
5
6
7
8
---------0---------0---------0---------0---------0---------0---------0---------0
Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor i
cididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostru
exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aut
irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat n
lla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui
officia deserunt mollit anim id est laborum.
Enter fullscreen mode
Exit fullscreen mode
Esta estrategia no funciona (sorprendente, ¬øeh?). En el ejemplo, vemos como solo algunas l√≠neas aparecen correctamente; la mayor√≠a est√°n cortadas por la mitad de la √∫ltima palabra. Adem√°s, cuando el corte toca en un fin de palabra, el primer car√°cter de la siguiente l√≠nea es un espacio.
As√≠ que, para mi procesador de textos, la simple impresi√≥n mediante lprint t$ no funcionaba. Era necesario un algoritmo que evitara esas palabras cortadas. Una forma de hacerlo ser√≠a introducir saltos de l√≠nea, es decir \n antes de la palabra que puede quedarse cortada. En Sinclair BASIC, estamos hablando de chr$(13).
Un c√≥digo completo en Python, cuyas primeras l√≠neas permiten jugar con el texto, el n√∫mero de columnas, y si se quiere o no enrollado de palabra, es el siguiente:
t = "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."
COL = 32
WORD_WRAP = False
i = COL
l = list(t)
while i < len(t):
if WORD_WRAP:
while i > 0 and l[i] != ' ':
i = i - 1
...
if i == 0:
break
...
...
l[i] = '\n'
i += COL
...
print("
1
2
3
4
5
6
7
8")
print("---------0---------0---------0---------0---------0---------0---------0---------0")
print(str.join("", l))
Enter fullscreen mode
Exit fullscreen mode
Es necesario convertir el texto a una lista para poder modificar aquellos caracteres que van a albergar los cambios de l√≠nea. Para poder pasar el texto a lista, utilizamos l = list(t), para el proceso contrario, utilizamos str.join("", l). El resultado es esperanzador:
1
2
3
4
5
6
7
8
---------0---------0---------0---------0---------0---------0---------0---------0
Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor
incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis
nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu
fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in
culpa qui officia deserunt mollit anim id est laborum.
Enter fullscreen mode
Exit fullscreen mode
Solo tenemos que pasar este algoritmo a Sinclair BASIC. He incluido algunos espacios para hacer m√°s f√°cil la lectura, aunque en Sinclair BASIC ser√≠an ignorados.
8000 REM Print text
8010 let COL = 80
8020 let i = COL
8030 if i >= len(t$) then goto 8110
8040
if i <= 1 or t$(i) = " " then goto 8070
8050
let i = i - 1
8060
goto 8040
8070
if i = 0 then goto 8110
8080
let t$(i) = chr$(13)
8090
let i = i + COL
8100 goto 8030
8110 lprint t$
Enter fullscreen mode
Exit fullscreen mode
Y as√≠, pude obtener mis textos (apuntes y trabajos), correctamente formateados en la impresora. Desde luego, no era WYSIWYG, ya que en la pantalla no se ve√≠a ni remotamente lo mismo que se obten√≠a en la impresora (por el distinto n√∫mero de columnas), pero a mi me llegaba.
¬øAlineaci√≥n justificada? ¬øQu√© es eso?
Cadenas de caracteres (5 Part Series)
1
Cadenas de caracteres en C
2
Cadenas de caracteres en Basic y Pascal
3
Cadenas de caracteres... en el BASIC del ZX Spectrum
4
Mi propio procesador de textos en ZX Sinclair BASIC
5
Mi propio procesador de textos en ZX Sinclair BASIC (y II)
Top comments (12)
Subscribe
Personal
Trusted User
Create template
Templates let you quickly answer FAQs or store snippets for re-use.
Submit
Preview
Dismiss
Collapse
Expand
Cesar Aguirre
Cesar Aguirre
Cesar Aguirre
Follow
Software engineer, lifelong learner, language enthusiast & avid reader ‚Äî Get my free 7-day email course to refactor your coding career: bit.ly/csarag-lessons
Location
Colombia üá®üá¥ (not Columbia)
Work
Content, Courses & Training for .NET teams ‚Äî Helping teams to write maintainable & performant code
Joined
Jul 23, 2019
‚Ä¢
Sep 17
Dropdown menu
Copy link
Hide
Se sintio un poco raro, seguir el ejemplo en BASIC con los gotos. Supongo que despues de escribir y leer BASIC a diario, uno se acostumbra.
Like comment:
Like comment:
2¬†likes
Like
Comment button
Reply
Collapse
Expand
Baltasar Garc√≠a Perez-Schofield
Baltasar Garc√≠a Perez-Schofield
Baltasar Garc√≠a Perez-Schofield
Follow
Lecturer in programming since 1998
Location
Spain
Work
Associate professor at University of Vigo
Joined
Apr 14, 2019
‚Ä¢
Sep 18
‚Ä¢ Edited on Sep 18
‚Ä¢ Edited
Dropdown menu
Copy link
Hide
Es cierto, estamos tan acostumbrados a estructuras de iteraci√≥n como while, que se hace muy raro. Pero es que, al fin y al cabo, Sinclair BASIC segu√≠a la especificaci√≥n de Mini BASIC est√°ndar, y lo m√°s avanzado de este en ese aspecto era GOSUB... RETURN (pero sin muchas caracter√≠sticas necesarias, como variables locales; todas eran globales).
En el Sinclair QL (el √∫ltimo de Sinclair al mando de la compa√±√≠a), Super BASIC s√≠ que soportaba procedimientos y funciones, de manera similar a MS Visual BASIC.
Por un lado es un poco molesto. Por el otro, en realidad sabes que cuando un bucle while es compilado, no acaba siendo otra cosa que un goto (jmp, en ensamblador Intel),
a una condici√≥n (probablemente con cmp, en ensamblador Intel).
Like comment:
Like comment:
2¬†likes
Like
Comment button
Reply
Collapse
Expand
Cesar Aguirre
Cesar Aguirre
Cesar Aguirre
Follow
Software engineer, lifelong learner, language enthusiast & avid reader ‚Äî Get my free 7-day email course to refactor your coding career: bit.ly/csarag-lessons
Location
Colombia üá®üá¥ (not Columbia)
Work
Content, Courses & Training for .NET teams ‚Äî Helping teams to write maintainable & performant code
Joined
Jul 23, 2019
‚Ä¢
Sep 18
Dropdown menu
Copy link
Hide
Baltasar deberias compilar todas estas historias en un libro: "Programando en los viejos tiempos con una Sinclair Spectrum" Interesante ver como han cambiado nuestros lenguajes.
Like comment:
Like comment:
3¬†likes
Like
Thread
Thread
Baltasar Garc√≠a Perez-Schofield
Baltasar Garc√≠a Perez-Schofield
Baltasar Garc√≠a Perez-Schofield
Follow
Lecturer in programming since 1998
Location
Spain
Work
Associate professor at University of Vigo
Joined
Apr 14, 2019
‚Ä¢
Sep 19
Dropdown menu
Copy link
Hide
M√°s adelante, es posible que me lo plantee.
Like comment:
Like comment:
2¬†likes
Like
Thread
Thread
Cesar Aguirre
Cesar Aguirre
Cesar Aguirre
Follow
Software engineer, lifelong learner, language enthusiast & avid reader ‚Äî Get my free 7-day email course to refactor your coding career: bit.ly/csarag-lessons
Location
Colombia üá®üá¥ (not Columbia)
Work
Content, Courses & Training for .NET teams ‚Äî Helping teams to write maintainable & performant code
Joined
Jul 23, 2019
‚Ä¢
Sep 20
Dropdown menu
Copy link
Hide
Aqui ya tienes un lector :)
Like comment:
Like comment:
2¬†likes
Like
Thread
Thread
Baltasar Garc√≠a Perez-Schofield
Baltasar Garc√≠a Perez-Schofield
Baltasar Garc√≠a Perez-Schofield
Follow
Lecturer in programming since 1998
Location
Spain
Work
Associate professor at University of Vigo
Joined
Apr 14, 2019
‚Ä¢
Sep 21
Dropdown menu
Copy link
Hide
Gracias!
Like comment:
Like comment:
2¬†likes
Like
Comment button
Reply
Collapse
Expand
hsicilia
hsicilia
hsicilia
Follow
Location
Tenerife
Joined
Oct 1, 2019
‚Ä¢
Sep 19
Dropdown menu
Copy link
Hide
Qu√© buena la historia, Baltasar.
Con tu permiso la voy a pasar al grupo de Telegram de Boriel Basic ;)
Like comment:
Like comment:
2¬†likes
Like
Comment button
Reply
Collapse
Expand
Baltasar Garc√≠a Perez-Schofield
Baltasar Garc√≠a Perez-Schofield
Baltasar Garc√≠a Perez-Schofield
Follow
Lecturer in programming since 1998
Location
Spain
Work
Associate professor at University of Vigo
Joined
Apr 14, 2019
‚Ä¢
Sep 20
Dropdown menu
Copy link
Hide
Sin problema. Gracias por leer!
Like comment:
Like comment:
1¬†like
Like
Comment button
Reply
Collapse
Expand
Leanware
Leanware
Leanware
Follow
Leanware is a Latin America-based software development company with AI-enhanced developers for startups and smbs.
Email
eddie_casas@leanware.co
Location
1401 Brickell Ave, Suite 330,Miami, FL 33131, United States
Joined
Sep 21, 2025
‚Ä¢
Sep 21
Dropdown menu
Copy link
Hide
Thank you!
Like comment:
Like comment:
2¬†likes
Like
Comment button
Reply
Collapse
Expand
Baltasar Garc√≠a Perez-Schofield
Baltasar Garc√≠a Perez-Schofield
Baltasar Garc√≠a Perez-Schofield
Follow
Lecturer in programming since 1998
Location
Spain
Work
Associate professor at University of Vigo
Joined
Apr 14, 2019
‚Ä¢
Sep 22
Dropdown menu
Copy link
Hide
Thanks for reading!
Like comment:
Like comment:
1¬†like
Like
Comment button
Reply
Collapse
Expand
Leanware
Leanware
Leanware
Follow
Leanware is a Latin America-based software development company with AI-enhanced developers for startups and smbs.
Email
eddie_casas@leanware.co
Location
1401 Brickell Ave, Suite 330,Miami, FL 33131, United States
Joined
Sep 21, 2025
‚Ä¢
Sep 21
Dropdown menu
Copy link
Hide
Nice post!
Like comment:
Like comment:
1¬†like
Like
Comment button
Reply
Collapse
Expand
Baltasar Garc√≠a Perez-Schofield
Baltasar Garc√≠a Perez-Schofield
Baltasar Garc√≠a Perez-Schofield
Follow
Lecturer in programming since 1998
Location
Spain
Work
Associate professor at University of Vigo
Joined
Apr 14, 2019
‚Ä¢
Sep 22
Dropdown menu
Copy link
Hide
Thanks for reading!
Like comment:
Like comment:
1¬†like
Like
Comment button
Reply
View full discussion (12 comments)
Some comments may only be visible to logged-in visitors. Sign in to view all comments.
Code of Conduct
‚Ä¢
Report abuse
Are you sure you want to hide this comment? It will become hidden in your post, but will still be visible via the comment's permalink.
Hide child comments as well
Confirm
For further actions, you may consider blocking this person and/or reporting abuse
Baltasar Garc√≠a Perez-Schofield
Follow
Lecturer in programming since 1998
Location
Spain
Work
Associate professor at University of Vigo
Joined
Apr 14, 2019
More from Baltasar Garc√≠a Perez-Schofield
Mi propio procesador de textos en ZX Sinclair BASIC (y II)
#spanish
#sinclair
#basic
#string
Cadenas de caracteres... en el BASIC del ZX Spectrum
#basic
#string
#sinclair
#spanish
¬øQu√© nos ense√±a el fiasco de repl.it?
#spanish
#ai
üíé DEV Diamond Sponsors
Thank you to our Diamond Sponsors for supporting the DEV Community
Google AI is the official AI Model and Platform Partner of DEV
Neon is the official database partner of DEV
Algolia is the official search partner of DEV
DEV Community ‚Äî A space to discuss and keep up software development and manage your software career
Home
Welcome Thread
Tags
About
Contact
Code of Conduct
Privacy Policy
Terms of Use
Built on Forem ‚Äî the open source software that powers DEV and other inclusive communities.
Made with love and Ruby on Rails. DEV Community ¬© 2016 - 2025.
We're a place where coders share, stay up-to-date and grow their careers.
Log in
Create account