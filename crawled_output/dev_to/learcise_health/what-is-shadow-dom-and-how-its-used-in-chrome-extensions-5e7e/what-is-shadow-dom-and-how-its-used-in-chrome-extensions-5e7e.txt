What is Shadow DOM and How It‚Äôs Used in Chrome Extensions - DEV Community
Forem Feed
Follow new Subforems to improve your feed
DEV Community
Follow
A space to discuss and keep up software development and manage your software career
Gamers Forem
Follow
An inclusive community for gaming enthusiasts
Future
Follow
News and discussion of science and technology such as AI, VR, cryptocurrency, quantum computing, and more.
Music Forem
Follow
From composing and gigging to gear, hot music takes, and everything in between.
DUMB DEV Community
Follow
Memes and software development shitposting
Vibe Coding Forem
Follow
Discussing AI software development, and showing off what we're building.
Popcorn Movies and TV
Follow
Movie and TV enthusiasm, criticism and everything in-between.
Design Community
Follow
Web design, graphic design and everything in-between
Maker Forem
Follow
A community for makers, hobbyists, and professionals to discuss Arduino, Raspberry Pi, 3D printing, and much more.
Scale Forem
Follow
For engineers building software at scale. We discuss architecture, cloud-native, and SRE‚Äîthe hard-won lessons you can't just Google
Forem Core
Follow
Discussing the core forem open source software project ‚Äî features, bugs, performance, self-hosting.
Security Forem
Follow
Your central hub for all things security. From ethical hacking and CTFs to GRC and career development, for beginners and pros alike
Open Forem
Follow
A general discussion space for the Forem community. If it doesn't have a home elsewhere, it belongs here
Crypto Forem
Follow
A collaborative community for all things Crypto‚Äîfrom Bitcoin to protocol development and DeFi to NFTs and market analysis.
Dropdown menu
Dropdown menu
Skip to content
Navigation menu
Search
Powered by Algolia
Search
Log in
Create account
DEV Community
Close
Add reaction
Like
Unicorn
Exploding Head
Raised Hands
Fire
Jump to Comments
Save
Boost
More...
Moderate
Copy link
Copy link
Copied to Clipboard
Share to X
Share to LinkedIn
Share to Facebook
Share to Mastodon
Report Abuse
Learcise
Posted on Sep 12
What is Shadow DOM and How It‚Äôs Used in Chrome Extensions
#extensions
#shadowdom
#webdev
#javascript
Introduction
If you‚Äôve done any web development, you‚Äôve probably come across the term ‚ÄúShadow DOM.‚Äù
Shadow DOM is one of the core technologies behind Web Components. It provides a mechanism to encapsulate DOM structure and styles, isolating them from the rest of the page.
In this article, we‚Äôll go over the basics of Shadow DOM and how it can be effectively used in Chrome extensions.
What is Shadow DOM?
Basic Mechanism
Shadow DOM allows you to attach a shadow tree to a regular DOM element. This shadow tree contains its own independent DOM structure and style scope.
Shadow host: The element that owns the Shadow DOM
Shadow root: The root of the shadow tree
Shadow tree: The DOM tree inside the shadow root
Shadow boundary: The boundary between the light DOM (normal DOM) and the shadow tree
In a normal DOM, CSS and JavaScript apply globally, which makes it difficult to prevent components from interfering with one another. By introducing Shadow DOM, we gain the following advantages:
Hide internal structure from the outside
Protect against external CSS overriding internal styles
Prevent internal styles or structure from leaking outside
Styles and Events
CSS defined inside a Shadow DOM is scoped locally and won‚Äôt be affected by external styles.
By default, events do not cross the shadow boundary. If you want them to propagate outside, you need to set composed: true.
Chrome Extensions and Shadow DOM
In Chrome extensions, content scripts often inject DOM elements or UI directly into web pages. For example, you might want to place a custom button at the bottom-right corner of the page.
However, this approach leads to common issues:
Page CSS breaks the extension‚Äôs UI
Conflicts with existing class names or IDs defined in the extension
Interference between page scripts/events and the extension‚Äôs UI
Shadow DOM is a powerful solution to these problems.
Benefits of Using Shadow DOM in Chrome Extensions
Prevent CSS Pollution
The page‚Äôs styles won‚Äôt affect the extension‚Äôs UI, and vice versa.
Avoid DOM Conflicts
Even if the same class names or IDs are used, they won‚Äôt collide.
Improve UI Stability
Frameworks like React, Vue, or Chakra UI can run inside Shadow DOM without being disrupted by page-specific CSS.
Technical Implementation Points
Let‚Äôs walk through the basic flow of using Shadow DOM in a Chrome extension.
1. Creating a Shadow Root
const host = document.createElement('div');
host.id = 'my-extension-shadow-host';
document.body.appendChild(host);
const shadowRoot = host.attachShadow({ mode: 'open' });
Enter fullscreen mode
Exit fullscreen mode
Using open mode makes debugging easier during development.
Using closed mode increases isolation but also restricts access.
2. Applying Styles
const styleEl = document.createElement('style');
styleEl.textContent = `
:host {
all: initial;
font-family: Arial, sans-serif;
display: block;
position: fixed;
bottom: 20px;
right: 20px;
z-index: 999999;
}
button {
padding: 8px 12px;
font-size: 14px;
}
`;
shadowRoot.appendChild(styleEl);
Enter fullscreen mode
Exit fullscreen mode
all: initial; ensures the extension‚Äôs UI won‚Äôt be affected by the page‚Äôs reset CSS.
If you‚Äôre using a UI library, import its styles into the shadow root as needed.
3. Adding UI Elements
const button = document.createElement('button');
button.textContent = 'My Button';
shadowRoot.appendChild(button);
Enter fullscreen mode
Exit fullscreen mode
Conclusion
Shadow DOM provides a mechanism to encapsulate DOM structure and styles
In Chrome extensions, it‚Äôs very effective at protecting UI from interference by the page
When implementing, pay attention to attachShadow, all: initial, and event propagation handling
By understanding Shadow DOM, you can make your Chrome extension UI much more stable and maintainable. If you‚Äôre developing extensions, it‚Äôs definitely worth adopting.
Top comments (0)
Subscribe
Personal
Trusted User
Create template
Templates let you quickly answer FAQs or store snippets for re-use.
Submit
Preview
Dismiss
Code of Conduct
‚Ä¢
Report abuse
Are you sure you want to hide this comment? It will become hidden in your post, but will still be visible via the comment's permalink.
Hide child comments as well
Confirm
For further actions, you may consider blocking this person and/or reporting abuse
Learcise
Follow
Joined
Sep 9, 2025
More from Learcise
Understand React Hooks the Right Way: From Basics to Bug Prevention & Design Decisions
#webdev
#programming
#react
Next.js App Router Deep Dive: Evolution from Pages Router and Its Latest Features
#nextjs
#webdev
#programming
Updating But Not Reflecting!? React‚Äôs Common State 'Stale Closure' Pitfall
#react
#programming
#webdev
üíé DEV Diamond Sponsors
Thank you to our Diamond Sponsors for supporting the DEV Community
Google AI is the official AI Model and Platform Partner of DEV
Neon is the official database partner of DEV
Algolia is the official search partner of DEV
DEV Community ‚Äî A space to discuss and keep up software development and manage your software career
P√°gina Inicial
DEV++
Welcome Thread
Podcasts
Videos
Tags
DEV Education Tracks
DEV Challenges
DEV Help
Advertise on DEV
DEV Showcase
Sobre
Contato
Free Postgres Database
Software comparisons
Forem Shop
C√≥digo de Conduta
Pol√≠tica de Privacidade
Termos de Uso
Built on Forem ‚Äî the open source software that powers DEV and other inclusive communities.
Made with love and Ruby on Rails. DEV Community ¬© 2016 - 2025.
We're a place where coders share, stay up-to-date and grow their careers.
Log in
Create account