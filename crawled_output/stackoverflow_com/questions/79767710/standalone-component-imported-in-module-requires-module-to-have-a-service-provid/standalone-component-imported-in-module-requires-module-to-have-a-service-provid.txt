angular - Standalone component imported in Module requires module to have a service provider - Stack Overflow
Skip to main content
Stack Overflow
About
Products
For Teams
Stack Overflow for Teams
Where developers & technologists share private knowledge with coworkers
Advertising
Reach devs & technologists worldwide about your product, service or employer brand
Knowledge Solutions
Data licensing offering for businesses to build and improve AI tools and models
Labs
The future of collective knowledge sharing
About the company
Visit the blog
Loading…
current community
Stack Overflow
help
chat
Meta Stack Overflow
your communities
Sign up or log in to customize your list.
more stack exchange communities
company blog
Log in
Sign up
Home
Questions
AI Assist
Labs
Tags
Challenges
Chat
Articles
Users
Jobs
Companies
Collectives
Communities for your favorite technologies.
Explore all Collectives
Teams
Ask questions, find answers and collaborate at work with Stack Overflow for Teams.
Try Teams for free
Explore Teams
Teams
Ask questions, find answers and collaborate at work with Stack Overflow for Teams.
Explore Teams
Collectives™ on Stack Overflow
Find centralized, trusted content and collaborate around the technologies you use most.
Learn more about Collectives
Teams
Q&A for work
Connect and share knowledge within a single location that is structured and easy to search.
Learn more about Teams
Standalone component imported in Module requires module to have a service provider
Ask Question
Asked
3 days ago
Modified
3 days ago
Viewed
35 times
0
I'm getting a NullInjectorError and I can't figure out why. I've figured out a solution, but I'm not confident it really addresses the root cause.
In a library, I have a standalone component CurrencyComponent, which imports the CommonModule in order to use the CurrencyPipe:
@Component({
selector: 'app-currency'
standalone: true,
imports: [CommonModule],
template: `<div>{{ money | currency }}</div>`
})
export class CurrencyComponent {
money = 10;
}
This component's implementation is deeply nested in a bunch of other standalone components also in the same library. These child components are pretty simple and all already import their direct child:
<!-- For simplicity, I'm just going to list the end result of the templates -->
<lib-controller>
<lib-child1>
<lib-child2>
<lib-child3>
<lib-currency />
</lib-child3>
</lib-child2>
</lib-child1>
</lib-controller>
The "top level" component is a route's destination in a module:
import {ControllerComponent} from '@lib/feature/controller';
const routes = [
// ...
{
path: 'some-route',
component: ControllerComponent,
},
];
@NgModule({
imports: [RouterModule.forChild(routes)],
exports: [RouterModule],
})
export class ProblemRoutingModule {}
The related module imports the SharedComponent (which contains CommonModule) and the CurrencyComponent (though I realize now this is unnecessary since the component is not directly referenced by any of the module's declared components, but that's irrelevant).
@NgModule({
declarations: [/* ... */],
imports: [
// ...
ControllerComponent,
SharedModule, // exports CommonModule, thus CurrencyPipe???
],
})
export class ProblemModule {}
As far as I can see, the CurrencyPipe should be all set, if not redundantly so, because it's imported both by the component using it and the module housing the component's root component! The only way I've found to resolve this is by adding the CurrencyPipe itself to the module's providers array, not even the CommonModule (providers: [CurrencyPipe])!
My gut tells me this is covering up a problem, not actually fixing it, because as far as I can tell, the module's providers array is, in this setup, entirely unrelated to the CurrencyComponent, which should already have access to the pipe anyways because the component imports CommonModule! Can someone spot the flaw? Because it's certainly eluding me.
angulartypescriptangular-providerscurrency-pipe
Share
Improve this question
Follow
edited Sep 17 at 19:00
PaulBunionPaulBunion
asked Sep 17 at 18:50
PaulBunionPaulBunion
42266 silver badges2121 bronze badges
2
Could you try to provide a working stablitz repro. There too many variables here to really understand the issue from text only.
Matthieu Riegler
–
Matthieu Riegler
2025-09-17 20:28:14 +00:00
Commented
Sep 17 at 20:28
Also what is the behavior occurs when you don't add the CurrencyPipe, and to which module are you adding it to?
I assume you're adding it to ProblemModule and if you don't the CurrencyComponent errors out, but I could be wrong.
Daniel Gimenez
–
Daniel Gimenez
2025-09-17 21:26:25 +00:00
Commented
Sep 17 at 21:26
Add a comment
|
Related questions
1
Core module component and Shared module implementation in angular
66
Angular 2 Routing Does Not Work When Deployed to Http Server
515
Error when trying to inject a service into an angular component "EXCEPTION: Can't resolve all parameters for component", why?
Related questions
1
Core module component and Shared module implementation in angular
66
Angular 2 Routing Does Not Work When Deployed to Http Server
515
Error when trying to inject a service into an angular component "EXCEPTION: Can't resolve all parameters for component", why?
13
Override imported module's component declaration
578
Error: More than one module matches. Use skip-import option to skip importing the component into the closest module
5
Angular 2 how to isolate service provider in a feature module
0
How to implement combined export in Angular Standalone Components
Load 4 more related questions
Show fewer related questions
0
Sorted by:
Reset to default
Highest score (default)
Trending (recent votes count more)
Date modified (newest first)
Date created (oldest first)
Know someone who can answer? Share a link to this question via email, Twitter, or Facebook.
Your Answer
Thanks for contributing an answer to Stack Overflow!Please be sure to answer the question. Provide details and share your research!But avoid …Asking for help, clarification, or responding to other answers.Making statements based on opinion; back them up with references or personal experience.To learn more, see our tips on writing great answers.
Draft saved
Draft discarded
Sign up or log in
Sign up using Google
Sign up using Email and Password
Submit
Post as a guest
Name
Email
Required, but never shown
Post as a guest
Name
Email
Required, but never shown
Post Your Answer
Discard
By clicking “Post Your Answer”, you agree to our terms of service and acknowledge you have read our privacy policy.
Start asking to get answers
Find the answer to your question by asking.
Ask question
Explore related questions
angulartypescriptangular-providerscurrency-pipe
See similar questions with these tags.
The Overflow Blog
Stack Overflow is helping you learn to code with new resources
Off with your CMS’s head! Composability and security in headless CMS
Featured on Meta
Spevacus has joined us as a Community Manager
Introducing a new proactive anti-spam measure
New comment UI experiment graduation
New and improved coding challenges
Policy: Generative AI (e.g., ChatGPT) is banned
Hot Network Questions
Differences, distributions, and definitions
Making `apt-get` read answers from stdin on graphical Ubuntu
keytheorems + tcolorbox: accessing tcbkeys in the optional argument of an already declared theorem
What was so bad about what Kimmel said about Charlie Kirk?
How should we understand **God is Just** in relation to him killing Davids child due to his sins?
Is "allowed" a past participle or an adjective?
Does every ultrafilter on real numbers contain a meager set?
Can we reach a stage where there are 105 piles with 1 tile in each pile?
Clarification of "Trautes Heim, Glück allein"
Is there a way to name 1,4-dimethylcyclohexan-1-ol in a way that indicates the methyl groups must be cis?
Unable to Access CPU Model Name in Debian VMWare
How to remove BitLocker encryption for a volume that does not have a drive-letter
Implementation of a kd-tree header-only library
When was God featured in The Simpsons?
Submitted the same research article in two journals, now I'm scared
I have so many results I don't know how to write the results in my research paper
If a partition that has always been able to be mounted normally,suddenly cannot be mounted and enters Emergency Mode,what might be the reason?
Maximum distance with 100 motorbikes carrying limited fuel and consuming 1L/km - Interview
What does, "as having nothing" mean in 2 Corinthians 6:10?
Interpretation of slope coefficient when a variable appears in multiple powers
git says Bad key types '+ssh-rsa,ssh-dss' when trying to do git fetch on my MacBook. How do I fix?
Was my travel companion unfairly denied entry to Aruba due to discrimination?
Validity of assuming the integral of a vanishing integrand over an infinitely large surface is equal to zero
Can customers receive partial refunds on their taxi trip if the driver took suboptimal routes?
more hot questions
Question feed
Subscribe to RSS
Question feed
To subscribe to this RSS feed, copy and paste this URL into your RSS reader.
lang-js
Stack Overflow
Questions
Help
Chat
Products
Teams
Advertising
Talent
Company
About
Press
Work Here
Legal
Privacy Policy
Terms of Service
Contact Us
Your Privacy Choices
Cookie Policy
Stack Exchange Network
Technology
Culture & recreation
Life & arts
Science
Professional
Business
API
Data
Blog
Facebook
Twitter
LinkedIn
Instagram
Site design / logo © 2025 Stack Exchange Inc;
user contributions licensed under
CC BY-SA
.
rev 2025.9.19.34211