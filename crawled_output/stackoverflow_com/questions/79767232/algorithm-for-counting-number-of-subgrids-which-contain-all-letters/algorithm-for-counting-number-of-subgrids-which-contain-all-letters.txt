c++ - Algorithm for counting number of subgrids which contain all letters - Stack Overflow
Skip to main content
Stack Overflow
About
Products
For Teams
Stack Overflow for Teams
Where developers & technologists share private knowledge with coworkers
Advertising
Reach devs & technologists worldwide about your product, service or employer brand
Knowledge Solutions
Data licensing offering for businesses to build and improve AI tools and models
Labs
The future of collective knowledge sharing
About the company
Visit the blog
Loading…
current community
Stack Overflow
help
chat
Meta Stack Overflow
your communities
Sign up or log in to customize your list.
more stack exchange communities
company blog
Log in
Sign up
Home
Questions
AI Assist
Labs
Tags
Challenges
Chat
Articles
Users
Jobs
Companies
Collectives
Communities for your favorite technologies.
Explore all Collectives
Teams
Ask questions, find answers and collaborate at work with Stack Overflow for Teams.
Try Teams for free
Explore Teams
Teams
Ask questions, find answers and collaborate at work with Stack Overflow for Teams.
Explore Teams
Collectives™ on Stack Overflow
Find centralized, trusted content and collaborate around the technologies you use most.
Learn more about Collectives
Teams
Q&A for work
Connect and share knowledge within a single location that is structured and easy to search.
Learn more about Teams
Algorithm for counting number of subgrids which contain all letters [closed]
Ask Question
Asked
8 days ago
Modified
8 days ago
Viewed
76 times
-3
Closed. This question needs to be more focused. It is not currently accepting answers.
Want to improve this question? Guide the asker to update the question so it focuses on a single, specific problem. Narrowing the question will help others answer the question concisely. You may edit the question if you feel you can improve it yourself. If edited, the question will be reviewed and might be reopened.
Closed 8 days ago.
Improve this question
CSES - All Letter Subgrid Count I
You are given a grid of letters. Your task is to calculate the number of square subgrids that contain all the letters.
Input
The first line has two integers nnn and kkk: the size of the grid and the number of letters. The letters are the first kkk uppercase letters.
After this, there are nnn lines that describe the grid. Each line has nnn letters.
Output
Print the number of subgrids.
Constraints
1 ≤ n ≤ 3000
1 ≤ k ≤ 26
Example
Input:
5 3
ABBBC
BBBBC
BCAAA
AAAAA
AAAAA
Output:
15
I have found a solution which is O(K N2) where K is the alphabet size and N is the grid size, but it runs too slowly.
Any ideas for how to get this to run at least twice as fast?
Here is my code:
#include <iostream>
#include <algorithm>
using namespace std;
int n, k;
const int MAXN = 3001;
int grid[MAXN][MAXN];
int ans[MAXN][MAXN];
int dp[MAXN];
int tmp[MAXN];
long long fin;
int main() {
cin >> n >> k;
for (int i=1; i<=n; i++) {
for (int j=1; j<=n; j++) {
char tmp;
cin >> tmp;
tmp -='A';
grid[i][j] = tmp;
}
}
for (int l=0; l<k; l++) {
//dp[j] contains the size of largest square grid which does not contain
fill(dp+1, dp+n+1, 0);
for (int i=1; i<=n; i++) {
//save dp into tmp;
for (int s=1; s<=n; s++) {
tmp[s] = dp[s];
}
for (int j=1; j<=n; j++){
if (grid[i][j]==l) {
dp[j]=0;
} else {
int a = dp[j-1];
int b = tmp[j-1];
int c = tmp[j];
a = min(a,b);
a = min(a,c);
dp[j] = 1+a;
}
ans[i][j] = max(ans[i][j], dp[j]);
}
}
}
for (int i=1; i<=n; i++) {
for (int j=1; j<=n; j++) {
fin += ans[i][j];
}
}
fin = (long long)n*(n+1)*(2*n+1)/6 -fin;
cout << fin;
return 0;
}
c++
Share
Improve this question
Follow
edited Sep 17 at 13:03
JaMiT
18.2k55 gold badges2020 silver badges4242 bronze badges
asked Sep 17 at 11:10
user31497791user31497791
122 bronze badges
8
2
cs.stackexchange.com is for algorithmic questions. SO is for specific questions. "Any ideas" is too broad.
3CEZVQ
–
3CEZVQ
2025-09-17 11:16:53 +00:00
Commented
Sep 17 at 11:16
I don't agree with 3CEZVQ regarding Stack Overflow and algorithmic questions, but I agree that this question is too broad and not relevant to C++. A description of your (expected) algorithm would be helpful.
jabaa
–
jabaa
2025-09-17 11:22:03 +00:00
Commented
Sep 17 at 11:22
1
indexing form 1 should be avoided in C/C++.
Marek R
–
Marek R
2025-09-17 11:46:27 +00:00
Commented
Sep 17 at 11:46
godbolt.org/z/4KcMPcEc5
Marek R
–
Marek R
2025-09-17 11:52:25 +00:00
Commented
Sep 17 at 11:52
"I have found a solution which is O(N²)". It is O(K*N²) as it also depend of alphabet size.
Jarod42
–
Jarod42
2025-09-17 12:21:14 +00:00
Commented
Sep 17 at 12:21
|
Show 3 more comments
Related questions
1921
Image Processing: Algorithm Improvement for 'Coca-Cola Can' Recognition
571
error: request for member '..' in '..' which is of non-class type
8
Lexicographically minimal grid path algorithm
Related questions
1921
Image Processing: Algorithm Improvement for 'Coca-Cola Can' Recognition
571
error: request for member '..' in '..' which is of non-class type
8
Lexicographically minimal grid path algorithm
0
Need to find sum square difference and the code is not producing the right answer, we have part of the code and had to fill in the blanks
Load 1 more related questions
Show fewer related questions
0
Sorted by:
Reset to default
Highest score (default)
Trending (recent votes count more)
Date modified (newest first)
Date created (oldest first)
Start asking to get answers
Find the answer to your question by asking.
Ask question
Explore related questions
c++
See similar questions with these tags.
The Overflow Blog
Democratizing your data access with AI agents
The history and future of software development (part 1)
Featured on Meta
Spevacus has joined us as a Community Manager
Introducing a new proactive anti-spam measure
New and improved coding challenges
New comment UI experiment graduation
Policy: Generative AI (e.g., ChatGPT) is banned
Hot Network Questions
On the Subject of Switches
What is the effectiveness of using a miniature (ground) plane to route vias through as opposed to using separate paths and vias?
Why weren’t Prince Philip’s sisters invited to his wedding to Princess Elizabeth?
Short story about a metal-eating alien
Why would disembarking a few passengers delay a flight by 3 hours?
Best solution to prevent loop between tables for granular relations
Can the price of a gap option be negative?
SF short-story written perhaps 30 - 40 years ago about female-infected creatures who are called males
How do I make the middle of the bill curve up?
Ian Stewart, Definition for Primitive Root of Unity
What does "my left a** cheek" mean?
How does a telepathic bond work if the bondee lacks language?
At high pressures, is aromaticity affected?
Yet Another Python Weather Visualizer using Open-Meteo
Using Switch to return a value depending on the sign of a real number
How to crack ECC using halving
Verify a Chinese ID Number
How to convert square wave to sine wave
What happened to all of the energy created at the Big Bang when the matter and antimatter annihilated each other?
General inquiries about the Ersatzinfinitiv
Identifying voltage regulator on induction hob (marked FF 04)
I'm having a hard time intuiting throttle position to engine rpm consistency between gears -- why do cars behave in this observed way?
If 3-D is too easy, go 4-D
What does it mean for a museum exhibit "not to have a Soviet anniversary"?
more hot questions
lang-cpp
Stack Overflow
Questions
Help
Chat
Products
Teams
Advertising
Talent
Company
About
Press
Work Here
Legal
Privacy Policy
Terms of Service
Contact Us
Your Privacy Choices
Cookie Policy
Stack Exchange Network
Technology
Culture & recreation
Life & arts
Science
Professional
Business
API
Data
Blog
Facebook
Twitter
LinkedIn
Instagram
Site design / logo © 2025 Stack Exchange Inc;
user contributions licensed under
CC BY-SA
.
rev 2025.9.25.34480