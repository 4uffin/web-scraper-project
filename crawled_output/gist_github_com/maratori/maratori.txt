maratori’s gists · GitHub
Skip to content
Search Gists
Search Gists
All gists
Back to GitHub
Sign in
Sign up
Sign in
Sign up
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.
Dismiss alert
Instantly share code, notes, and snippets.
Marat Reimers
maratori
33
followers
·
2
following
Nebius
Netherlands
https://t.me/maratori
LinkedIn
in/marat-reimers
View GitHub Profile
All gists
9
Starred
3
Sort
Recently created
Least recently created
Recently updated
Least recently updated
Sort
Recently created
Least recently created
Recently updated
Least recently updated
1 file
0 forks
0 comments
0 stars
maratori
/ testmain_test.go
Created
July 29, 2022 21:33
TestMain to print logs if failed
package componenttests
import (
"fmt"
"io"
"os"
"path/filepath"
"strings"
"testing"
)
1 file
0 forks
0 comments
0 stars
maratori
/ test_clock.go
Last active
October 27, 2022 21:50
Mockable time for golang
package clock
import (
"fmt"
"sync"
"sync/atomic"
"time"
)
// Clock should be used instead of [time.Now], [time.After],
1 file
0 forks
0 comments
0 stars
maratori
/ db_in_transaction.go
Created
July 29, 2022 20:43
db.InTransaction
package db
import (
"context"
"database/sql"
"sync"
"github.com/pkg/errors"
"go.uber.org/multierr"
)
1 file
1 fork
18 comments
73 stars
maratori
/ golang-mocks.md
Last active
September 7, 2025 09:46
Comparison of golang mocking libraries
Comparison of golang mocking libraries
Updated 2025-05-31
[gomock][1]
[testify][2] + [mockery][3]
[mockio][4]
[minimock][5]
[moq][6]
Library
GitHub stars
[![s1]][1]
[![s2]][2]
+ [![s3]][3]
[![s4]][4]
[![s5]][5]
[![s6]][6]
Latest release date
[![d1]][r1]
[![d2]][r2] + [![d3]][r3]
[![d4]][r4]
[![d5]][r5]
[![d6]][r6]
Maintained
✅
✅
✅
✅
✅
1 file
0 forks
0 comments
0 stars
maratori
/ wait_for.py
Created
September 30, 2021 23:06
Helper function for python tests to get rid of time.sleep
import time
from typing import Callable, Iterable, TypeVar, Optional
T = TypeVar('T')
def wait_for(
fn: Callable[..., T],
message: str = "",
messageSupplier: Optional[Callable[[], str]] = None,
2 files
0 forks
1 comment
1 star
maratori
/ clone_postgres_schema_test.go
Last active
May 11, 2024 06:50
Clone postgres schema for each test
package my_package_test
import (
"fmt"
"testing"
"github.com/gtforge/global_payment_manager_service/testdb"
"github.com/stretchr/testify/require"
)
1 file
48 forks
62 comments
436 stars
maratori
/ .golangci.yml
Last active
September 26, 2025 02:22
Golden config for golangci-lint
# This file is licensed under the terms of the MIT license https://opensource.org/license/mit
# Copyright (c) 2021-2025 Marat Reymers
## Golden config for golangci-lint v2.5.0
#
# This is the best config for golangci-lint based on my experience and opinion.
# It is very strict, but not extremely strict.
# Feel free to adapt it to suit your needs.
# If this config helps you, please consider keeping a link to this file (see the next comment).
2 files
0 forks
0 comments
1 star
maratori
/ wait_for.go
Last active
October 27, 2022 22:23
func WaitFor() the best alternative for assert.Eventually()
package testhelpers
import (
"sync"
"time"
)
// WaitFor calls fn (once in tick) until it passes or timeout expired.
//
// Attempt is failed if any of following methods called in fn:
1 file
0 forks
1 comment
0 stars
maratori
/ hackSafariDriver.py
Created
September 17, 2018 09:21
Workaround for bug in SafariDriver with overflow hidden
import allure
from selene.abctypes.webelement import IWebElement
from selene.browser import execute_script
from selene.conditions import Visible
from selene.exceptions import ConditionMismatchException
@allure.step("Hack selene library to introduce workaroud bug in SafariDriver")
def hackSafariDriver():
""" Workaround for bug https://github.com/SeleniumHQ/selenium/issues/4456 """
Footer
© 2025 GitHub, Inc.
Footer navigation
Terms
Privacy
Security
Status
Community
Docs
Contact
Manage cookies
Do not share my personal information
You can’t perform that action at this time.