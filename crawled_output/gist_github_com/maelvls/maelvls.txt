maelvls’s gists · GitHub
Skip to content
Search Gists
Search Gists
All gists
Back to GitHub
Sign in
Sign up
Sign in
Sign up
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.
Dismiss alert
Instantly share code, notes, and snippets.
Maël Valais
maelvls
I do Go and Kubernetes
168
followers
·
70
following
@cyberark
Toulouse, France
https://maelvls.dev
X
@maelvls
View GitHub Profile
All gists
60
Starred
9
Sort
Recently created
Least recently created
Recently updated
Least recently updated
Sort
Recently created
Least recently created
Recently updated
Least recently updated
1 file
0 forks
0 comments
1 star
maelvls
/ kind-tailscale
Created
July 25, 2024 18:57
kind-tailscale makes your Kind cluster's API server available to the internet, including the OpenID Configuration and JWKS endpoints.
#!/bin/bash
# shellcheck disable=SC2059
set -eo pipefail
help() {
cat <<EOF
A script to expose your Kind cluster's API server to the internet using
Tailscale Funnel. To do that, the API server's --service-account-issuer and
--service-account-jwks-uri are updated, and the API server's certificate SANs
1 file
0 forks
0 comments
0 stars
maelvls
/ gh-gocover
Last active
September 15, 2023 08:39
gh-gocover – Share the coverage.html for a given pull request on GitHub. Requires git, gocover, gsutil, and gh.
#! /bin/bash
set -euo pipefail
# Source: https://gist.github.com/maelvls/bd9b48ed236a4622e5c7794a04d73752
help() {
cat <<EOF
Usage: gh gocover --pr <number> --bucket gs://bucket/path [flags]
Description:
1 file
0 forks
0 comments
0 stars
maelvls
/ auto-merge
Last active
September 11, 2023 13:57
Auto-approve GitLab merge requests when there is a "2 approvals" requirement on a repository that slows things down and needs to be worked around.
#!/bin/bash
#
#
# Copy auto-approve to the VM:
#
gcloud compute ssh cronjob-gitlab-approval --zone europe-west2-b -- sudo tee /usr/local/bin/auto-approve <~/bin/auto-approve >/dev/null
#
# Then:
#
gcloud compute ssh cronjob-gitlab-approval --zone europe-west2-b
#
crontab -e
#
2 files
0 forks
0 comments
0 stars
maelvls
/ README.md
Last active
November 30, 2022 14:30
Tired of having to wait for Cloudshare's progress bar to fill up? Here is a script that does it for you.
1 file
0 forks
0 comments
0 stars
maelvls
/ jenkins.sh
Last active
January 30, 2024 18:34
Jenkins CLI for launching builds
#! /bin/bash
set -euo pipefail
help() {
cat <<EOF
USAGE
$(basename "$0") --url https://jenkins/job/foo/job/bar --user <username> --token <token> --arg param=value --arg param2=value2
DETAILS
2 files
0 forks
0 comments
0 stars
maelvls
/ README.md
Last active
June 8, 2022 14:43
Visualize the interaction between the Kubernetes apiserver and the cert-manager webhook using mimtproxy
Visualize the interaction between the Kubernetes apiserver and the cert-manager webhook using mimtproxy
This mitmproxy file was created using Kubernetes 1.21 and cert-manager 1.7.
To visualize this HTTP interaction, install mitmproxy and run:
curl -sSLO https://raw.githubusercontent.com/maelvls/kubectl-incluster/main/josejson.py
curl -sSLO https://gist.githubusercontent.com/maelvls/8a7fd6e6f1e92045813b120ad063d9ae/raw/22ece3844cb21c76d3077090d06368d5943729c9/apiserver-to-webhook.mitmproxy
1 file
0 forks
0 comments
0 stars
maelvls
/ README.md
Last active
April 16, 2023 12:30
Building ksnip
Building ksnip to work around images growing on each save
The issue in question is kImageAnnotator#257.
Updated on 16 April 2023 with ksnip 1.10.1.
git clone https://github.com/ksnip/kColorPicker
git clone https://github.com/ksnip/kImageAnnotator
git -C kImageAnnotator remote add maelvls https://github.com/maelvls/kImageAnnotator
1 file
0 forks
0 comments
0 stars
maelvls
/ README.md
Last active
May 13, 2024 10:02
The slight differences between Unix tools across BSD (incl. macOS), GNU/Linux, and Busybox
I've moved this to https://hackmd.io/@maelvls/bsd-vs-gnu-vs-busybox-incompat.
1 file
0 forks
0 comments
0 stars
maelvls
/ README.md
Last active
April 4, 2022 12:39
Deploy a dev version of cert-manager to your GKE or OpenShift cluster
Deploy a dev version of cert-manager to your GKE or OpenShift cluster
If you would like to use the new Make flow (we dropped Bazel!), here is a tutorial on
how test cert-manager on a non-kind cluster such as GKE or OpenShift. In this tutorial,
I assume that you have cloned cert-manager/cert-manager and that you have a shell session
open in that folder. I also assume that your GKE or OpenShift cluster has access to the
Docker Hub registry (i.e., you cluster has access to the internet).
You will need docker, helm, and crane installed. If you are on macOS or on Linux, you
can install helm and crane using Homebrew:
2 files
0 forks
0 comments
0 stars
maelvls
/ README.md
Last active
September 7, 2022 14:12
Dev Assistant (chrome extension) settings
This gist can be shared, no problem.
Update 6 June 2022: it seems like dev assistant, which was published as a Chrome extension, has been withdrawn (probably by their authors). The source code for the extension is on GitHub: https://github.com/shridhar-tl/dev-assist. I don't know how to add the extension "manually" using the source code.
NewerOlder
Footer
© 2025 GitHub, Inc.
Footer navigation
Terms
Privacy
Security
Status
Community
Docs
Contact
Manage cookies
Do not share my personal information
You can’t perform that action at this time.