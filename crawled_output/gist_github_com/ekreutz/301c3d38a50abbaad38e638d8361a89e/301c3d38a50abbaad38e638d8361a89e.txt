Ansible variable precedence (order, hierarchy) · GitHub
Skip to content
Search Gists
Search Gists
All gists
Back to GitHub
Sign in
Sign up
Sign in
Sign up
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.
Dismiss alert
Instantly share code, notes, and snippets.
ekreutz/ansible_variable_precedence.md
Last active
September 21, 2025 12:05
Show Gist options
Download ZIP
Star
152
(152)
You must be signed in to star a gist
Fork
35
(35)
You must be signed in to fork a gist
Embed
Embed
Embed this gist in your website.
Share
Copy sharable link for this gist.
Clone via HTTPS
Clone using the web URL.
Learn more about clone URLs
Clone this repository at &lt;script src=&quot;https://gist.github.com/ekreutz/301c3d38a50abbaad38e638d8361a89e.js&quot;&gt;&lt;/script&gt;
Save ekreutz/301c3d38a50abbaad38e638d8361a89e to your computer and use it in GitHub Desktop.
Code
Revisions
2
Stars
152
Forks
35
Embed
Embed
Embed this gist in your website.
Share
Copy sharable link for this gist.
Clone via HTTPS
Clone using the web URL.
Learn more about clone URLs
Clone this repository at &lt;script src=&quot;https://gist.github.com/ekreutz/301c3d38a50abbaad38e638d8361a89e.js&quot;&gt;&lt;/script&gt;
Save ekreutz/301c3d38a50abbaad38e638d8361a89e to your computer and use it in GitHub Desktop.
Download ZIP
Ansible variable precedence (order, hierarchy)
Raw
ansible_variable_precedence.md
Ansible variable precedence
Source: http://docs.ansible.com/ansible/latest/playbooks_variables.html#variable-precedence-where-should-i-put-a-variable
From least to most important
command line values (for example, -u my_user, these are not variables)
role defaults (defined in role/defaults/main.yml)
inventory file or script group vars
inventory group_vars/all
playbook group_vars/all
inventory group_vars/*
playbook group_vars/*
inventory file or script host vars
inventory host_vars/*
playbook host_vars/*
host facts / cached set_facts
play vars
play vars_prompt
play vars_files
role vars (defined in role/vars/main.yml)
block vars (only for tasks in block)
task vars (only for the task)
include_vars
set_facts / registered vars
role (and include_role) params
include params
extra vars (always win precedence)
Copy link
devarshgandhi1
commented
Feb 27, 2018
Awesome Gist!! Very helpful.
Sorry, something went wrong.
Uh oh!
There was an error while loading. Please reload this page.
Copy link
Elmeri
commented
May 22, 2018
Good stuff
Sorry, something went wrong.
Uh oh!
There was an error while loading. Please reload this page.
Copy link
aaronjameshorne
commented
Sep 20, 2018
This makes things clear now. Thanks.
Sorry, something went wrong.
Uh oh!
There was an error while loading. Please reload this page.
Copy link
quazar0
commented
Nov 7, 2018
I have seen variables in a playbooks/vars/main.yml file, where is that in the list?
Sorry, something went wrong.
Uh oh!
There was an error while loading. Please reload this page.
Copy link
let-thomas
commented
Nov 21, 2018
Well this list does not seems to fully true. In version 2.7 set_fact does not override role vars.
I.e. https://docs.ansible.com/ansible/latest/user_guide/playbooks_variables.html#variable-precedence-where-should-i-put-a-variable seems to be more precise.
Sorry, something went wrong.
Uh oh!
There was an error while loading. Please reload this page.
Copy link
jdaku
commented
May 4, 2021
•
edited
Loading
Uh oh!
There was an error while loading. Please reload this page.
Great ! Can you link example, please
Sorry, something went wrong.
Uh oh!
There was an error while loading. Please reload this page.
Copy link
dbvdb
commented
May 28, 2022
Super !
Sorry, something went wrong.
Uh oh!
There was an error while loading. Please reload this page.
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Footer
© 2025 GitHub, Inc.
Footer navigation
Terms
Privacy
Security
Status
Community
Docs
Contact
Manage cookies
Do not share my personal information
You can’t perform that action at this time.