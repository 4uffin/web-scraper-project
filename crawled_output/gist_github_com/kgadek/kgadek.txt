kgadek’s gists · GitHub
Skip to content
Search Gists
Search Gists
All gists
Back to GitHub
Sign in
Sign up
Sign in
Sign up
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.
Dismiss alert
Instantly share code, notes, and snippets.
Konrad Gądek
kgadek
20
followers
·
33
following
@VirtuslabRnD
03:23
(UTC +02:00)
https://www.konradgadek.xyz/
X
@k_gadek
View GitHub Profile
All gists
88
Forked
2
Starred
4
Sort
Recently created
Least recently created
Recently updated
Least recently updated
Sort
Recently created
Least recently created
Recently updated
Least recently updated
5 files
0 forks
0 comments
4 stars
kgadek
/ note.md
Last active
September 18, 2025 04:08
Debian on ZFS root on Raspberry Pi 4
Note
I'm no longer be maintaining this, as I'm no longer using Raspberry Pi 4 + ZFS.
My case was:
Raspberry Pi 4 8GB
Debian 11 Bullseye
native ZFS encryption
1 file
0 forks
0 comments
0 stars
kgadek
/ zdb.sh-session
Last active
February 5, 2021 01:31
ZoL RPi4 debugging
root@spongebob:~# zdb -l /dev/mmcblk1
failed to unpack label 0
failed to unpack label 1
------------------------------------
LABEL 2
------------------------------------
version: 5000
name: 'rpool'
state: 1
txg: 78726
2 files
0 forks
0 comments
0 stars
kgadek
/ boot0.sh
Last active
December 14, 2020 16:14
#!/usr/bin/env sh
# vim: foldmethod=marker
# ------------------------------------------------------------------------------
# Run in cloud-init.
# ------------------------------------------------------------------------------
# {{{ Configuration
: "${user:=konrad}"
# }}}---------------------------------------------------------------------------
#{{{ users: add $user
1 file
0 forks
0 comments
0 stars
kgadek
/ bumpme
Last active
January 16, 2019 16:31
Wed Jan 16 16:30:53 UTC 2019
2 files
0 forks
0 comments
0 stars
kgadek
/ core.hs
Last active
February 21, 2017 16:41
stuff :: Maybe Int
stuff = return (456 :: Int)
main :: IO ()
main = do
let Just x = stuff
print x
2 files
0 forks
0 comments
0 stars
kgadek
/ harrop_ghc.hs
Last active
February 11, 2017 14:44
-- stack --resolver nightly-2017-02-08 ghc --package hashtables -- -O2 harrop_ghc.hs
import Control.Monad
import qualified Data.HashTable.IO as H
type HashTable k v = H.BasicHashTable k v
main = do
m <- H.new :: IO (HashTable Int Int)
forM_ [1..10000000] $ \n -> H.insert m n n
v <- H.lookup m 100
1 file
0 forks
0 comments
0 stars
kgadek
/ stuff.hs
Created
January 12, 2017 17:00
runWithMock :: MockDirectoryTree -> FSops r -> [String]
runWithMock mockTree = cata eval
where
eval :: TF.FreeF FSopsF r [String] -> [String]
eval (TF.Free x@ListDir{}) = msg : cont
where
msg
= printf "LISTDIR: %s\n RESULT: %s\n" (x ^. dirName) (show dirListing)
dirListing
= DirectoryListing immediateDirs immediateFiles
immediateDirs
= mockTree ^.. unFix2 . mDirs . each . rootDirName
immediateFiles = mockTree ^. unFix2 . mFiles
1 file
0 forks
0 comments
0 stars
kgadek
/ imad.sh
Last active
December 15, 2016 13:45
# Przygotowanie
xcode-select --install
# akceptacja licencji Xcode
curl -sSL https://get.haskellstack.org/ | sh
# alternatywnie: brew install haskell-stack
git clone https://github.com/kgadek/novelist.git
cd novelist
stack setup
# instalacja kompilatora lokalnie, w ~/.stack
stack build --bench --no-run-benchmarks
# kompilacja programu
# Uruchamianie testów
stack bench
4 files
0 forks
0 comments
0 stars
kgadek
/ 0_reuse_code.js
Created
November 21, 2016 15:10
Here are some things you can do with Gists in GistBox.
// Use Gists to store code you would like to remember later on
console.log(window); // log the "window" object to the console
1 file
0 forks
0 comments
0 stars
kgadek
/ anaconda-ks.cfg
Last active
May 28, 2016 16:11
Simple kickstart for VMs (insecure as hell)
#version=DEVEL
# System authorization information
auth --enableshadow --passalgo=sha512
# Use network installation
url --url="http://mirror.onet.pl/pub/mirrors/centos/7/os/x86_64"
# Use graphical install
graphical
# Run the Setup Agent on first boot
firstboot --enable
ignoredisk --only-use=sda
NewerOlder
Footer
© 2025 GitHub, Inc.
Footer navigation
Terms
Privacy
Security
Status
Community
Docs
Contact
Manage cookies
Do not share my personal information
You can’t perform that action at this time.