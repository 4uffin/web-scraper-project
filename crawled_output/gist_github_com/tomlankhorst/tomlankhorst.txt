tomlankhorst‚Äôs gists ¬∑ GitHub
Skip to content
Search Gists
Search Gists
All gists
Back to GitHub
Sign in
Sign up
Sign¬†in
Sign¬†up
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.
Dismiss alert
Instantly share code, notes, and snippets.
üåä
Tom Lankhorst
tomlankhorst
üåä
Robots and Software
121
followers
¬∑
23
following
Z√ºrich
https://tomlankhorst.nl/
View GitHub Profile
All gists
15
Starred
8
Sort
Recently created
Least recently created
Recently updated
Least recently updated
Sort
Recently created
Least recently created
Recently updated
Least recently updated
1 file
0 forks
1 comment
0 stars
tomlankhorst
/ mqtt-demo.cpp
Created
May 11, 2021 14:59
MQTT mosquitto demo (with fmt/7.1.3 mosquitto/2.0.10)
#include <iostream>
#include <csignal>
#include <thread>
#include <chrono>
#include <string_view>
#include <fmt/core.h>
#include <fmt/color.h>
#include <mosquitto.h>
#include <openssl/ssl.h>
1 file
0 forks
0 comments
1 star
tomlankhorst
/ libpqxx_boost_uuid.hpp
Last active
August 3, 2024 19:58
Basic support for `boost::uuids::uuid` in `libpqxx` 7.4
#pragma once
#include <boost/uuid/uuid.hpp>
#include <boost/uuid/uuid_generators.hpp>
#include <boost/uuid/uuid_io.hpp>
/**
* This snippet implements basic string conversion support for `boost::uuids::uuid`
* in libpqxx.
*
1 file
0 forks
0 comments
0 stars
tomlankhorst
/ decay_optional.hpp
Created
April 14, 2021 07:40
Decay optional type
template<typename T>
struct decay_optional {
using type = T;
};
template<typename T>
struct decay_optional<std::optional<T>> {
using type = T;
};
1 file
0 forks
0 comments
1 star
tomlankhorst
/ rebind-usb.sh
Created
October 31, 2020 09:24
Re-bind XHCI driver to make USB devices responsive again after a wakeup. https://tomlankhorst.nl/unresponsive-usb-unbind-bind-linux
#!/bin/bash
# See https://tomlankhorst.nl/unresponsive-usb-unbind-bind-linux
DEV=${1:-0000:06:00.3}
echo $DEV | sudo tee /sys/bus/pci/drivers/xhci_hcd/unbind
sleep 1
echo $DEV | sudo tee /sys/bus/pci/drivers/xhci_hcd/bind
1 file
0 forks
0 comments
0 stars
tomlankhorst
/ talker_listener_ros.launch
Last active
June 3, 2020 10:08
Launch ROS nodes in a docker container (roscpp_tutorial/talker_listener). This example uses host networking, but creating a network and setting the ROS_MASTER_URI should work just as well. See: https://github.com/ros/ros_tutorials/tree/melodic-devel/roscpp_tutorials https://hub.docker.com/_/ros/
<launch>
<node launch-prefix="docker run --rm --name listener -v$HOME:$HOME -u$UID --privileged --net=host -eROS_HOME=$ROS_HOME ros:melodic-ros-base-bionic" name="listener" pkg="roscpp_tutorials" type="listener" output="screen"/>
<node launch-prefix="docker run --rm --name talker -v$HOME:$HOME -u$UID --privileged --net=host -eROS_HOME=$ROS_HOME ros:melodic-ros-base-bionic" name="talker" pkg="roscpp_tutorials" type="talker" output="screen"/>
</launch>
1 file
0 forks
0 comments
0 stars
tomlankhorst
/ thanks
Last active
April 29, 2020 07:31
‚≠ê Thanks! Star the current GitHub repository.
#!/usr/bin/env python3
import os
import re
import requests
from subprocess import check_output
github_origin_re = r"^(git@github\.com:|https:\/\/github.com\/)([\w\-_]+)\/([\w\-_]+)\.git$"
try:
1 file
0 forks
0 comments
0 stars
tomlankhorst
/ apache-cors-site.conf
Last active
April 18, 2020 14:34
Enabling CORS with Apache https://tomlankhorst.nl/apache-cross-origin-resource-sharing-cors
<VirtualHost *:443>
ServerName service.com
# Set CORS headers to allow XHR
# Determine if Origin matches the regex
SetEnvIf Origin "http(s)?://(www.api-client.com|beta.api-client.com:8000)$" AccessControlAllowOrigin=$0
# Set Access-Control-Allow-Origin if the Origin is allowd
Header always set Access-Control-Allow-Origin %{AccessControlAllowOrigin}e env=AccessControlAllowOrigin
Header always set Access-Control-Allow-Credentials true
Header always set Access-Control-Allow-Headers "Origin, Authorization, Accept"
1 file
0 forks
0 comments
0 stars
tomlankhorst
/ trigger.groovy
Last active
May 14, 2020 06:49
Trigger all jobs in a Jenkins organization - https://tomlankhorst.nl/jenkins-trigger-build-organization
// https://javadoc.jenkins.io/jenkins/model/Jenkins.html#getItemByFullName-java.lang.String-
def organization = Hudson.instance.getItemByFullName('my_organization')
if (!organization) throw new Exception("No organization by that name")
// https://javadoc.jenkins.io/plugin/cloudbees-folder/com/cloudbees/hudson/plugins/folder/AbstractFolder.html#getItems--
def jobs = organization.getItems()
jobs.each {
// find the sub-job that's named "master"
// https://javadoc.jenkins.io/hudson/model/Item.html#getName--
master = it.items.find { it.getName() == "master" }
1 file
0 forks
0 comments
0 stars
tomlankhorst
/ authorized_keys.sh
Created
March 21, 2020 16:33
AuthorizedKeysCommand that appends a public list of keys to the user's list.
#!/bin/bash
# USE AT OWN RISK
# Current user
USER=$1
HOME=$(eval echo ~$USER)
# Base keys
cat $HOME/.ssh/authorized_keys
1 file
14 forks
21 comments
39 stars
tomlankhorst
/ docker-swarm-gpu.md
Last active
September 24, 2025 18:19
Instructions for Docker swarm with GPUs
Setting up a Docker Swarm with GPUs
Installing Docker
Official instructions.
Add yourself to the docker group to be able to run containers as non-root (see Post-install steps for Linux).
NewerOlder
Footer
¬© 2025 GitHub,¬†Inc.
Footer navigation
Terms
Privacy
Security
Status
Community
Docs
Contact
Manage cookies
Do not share my personal information
You can‚Äôt perform that action at this time.