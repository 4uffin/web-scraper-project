GNU Parallel Mastery: The Ultimate Cheat Sheet Â· GitHub
Skip to content
Search Gists
Search Gists
All gists
Back to GitHub
Sign in
Sign up
SignÂ in
SignÂ up
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.
Dismiss alert
Instantly share code, notes, and snippets.
copyleftdev/parallel.md
Created
August 24, 2024 06:51
Show Gist options
Download ZIP
Star
1
(1)
You must be signed in to star a gist
Fork
0
(0)
You must be signed in to fork a gist
Embed
Embed
Embed this gist in your website.
Share
Copy sharable link for this gist.
Clone via HTTPS
Clone using the web URL.
Learn more about clone URLs
Clone this repository at &lt;script src=&quot;https://gist.github.com/copyleftdev/3704d8d0baee6ba85cb2b759cd386e12.js&quot;&gt;&lt;/script&gt;
Save copyleftdev/3704d8d0baee6ba85cb2b759cd386e12 to your computer and use it in GitHub Desktop.
Code
Revisions
2
Stars
1
Embed
Embed
Embed this gist in your website.
Share
Copy sharable link for this gist.
Clone via HTTPS
Clone using the web URL.
Learn more about clone URLs
Clone this repository at &lt;script src=&quot;https://gist.github.com/copyleftdev/3704d8d0baee6ba85cb2b759cd386e12.js&quot;&gt;&lt;/script&gt;
Save copyleftdev/3704d8d0baee6ba85cb2b759cd386e12 to your computer and use it in GitHub Desktop.
Download ZIP
GNU Parallel Mastery: The Ultimate Cheat Sheet
Raw
parallel.md
ðŸš€ GNU Parallel Mastery: The Ultimate Cheat Sheet
ðŸ“Š Basic Usage
Command
Description
Example
parallel echo ::: A B C
ðŸ”¤ Process items in parallel
Output: A, B, C (in any order)
parallel echo {} ::: *.txt
ðŸ” Use {} as placeholder
Echoes names of all .txt files
cat file.txt | parallel echo
ðŸ“¥ Read input from stdin
Processes each line of file.txt
parallel -j4 command ::: item1 item2 item3
ðŸ”¢ Limit to 4 jobs at a time
Runs 'command' on items, max 4 parallel
ðŸ”§ Input Sources
Syntax
Description
Example
:::
ðŸ“Š Command line input
parallel echo ::: A B C
::::
ðŸ“‚ File input (one item per line)
parallel echo :::: items.txt
:::+
ðŸ”— Combine arguments from multiple sources
parallel echo ::: A B C :::+ X Y Z
-a file
ðŸ“„ Read input from file
parallel -a items.txt echo
ðŸ”€ Job Control
Option
Description
Example
-j N
ðŸ”¢ Run N jobs in parallel
parallel -j4 command ::: 1 2 3 4 5 6
-k
ðŸ”¤ Keep output in order
parallel -k echo ::: C B A
--halt soon,fail=1
ðŸ›‘ Stop all jobs on first failure
parallel --halt soon,fail=1 command ::: 1 2 3
--eta
â±ï¸ Show estimated time of completion
parallel --eta command ::: {1..100}
--bar
ðŸ“Š Display progress bar
parallel --bar command ::: {1..100}
ðŸ” Replacement Strings
String
Description
Example
{}
ðŸ”„ Input line
parallel echo {} ::: A B C
{.}
ðŸ”ª Input line without extension
parallel echo {.} ::: file.txt
{/}
ðŸ“‚ Basename of input line
parallel echo {/} ::: /path/to/file.txt
{//}
ðŸ“ Dirname of input line
parallel echo {//} ::: /path/to/file.txt
{#}
ðŸ”¢ Sequence number of job
parallel echo {#} {} ::: A B C
{%}
ðŸ”¢ Job slot number
parallel -j2 echo {%} {} ::: A B C D
ðŸ“¡ Remote Execution
Command
Description
Example
--sshlogin user@host1,user@host2
ðŸ–¥ï¸ Run on remote hosts
parallel --sshlogin user@host1,user@host2 command ::: 1 2 3
--transfer
ðŸ“¤ Transfer files to remote
parallel --transfer --sshlogin user@host command ::: file1 file2
--return {.}.out
ðŸ“¥ Return output files from remote
parallel --return {.}.out --sshlogin user@host command ::: file1 file2
ðŸ”§ Advanced Techniques
Technique
Description
Example
--pipe
ðŸš¿ Split input stream
cat bigfile.txt | parallel --pipe grep 'pattern'
--xargs
ðŸ”¨ Emulate xargs
find . -name '*.jpg' | parallel --xargs convert {} {.}.png
--shebang
ðŸ“œ Use in scripts
#!/usr/bin/parallel --shebang
--dry-run
ðŸƒâ€â™‚ï¸ Show commands without executing
parallel --dry-run echo ::: A B C
--results outdir
ðŸ“ Store output in directory
parallel --results outdir command ::: 1 2 3
ðŸ† Pro Tips
ðŸ“š Use man parallel_tutorial for an extensive guide
ðŸ” Use parallel --citation in your publications if you use GNU Parallel
ðŸ”¢ Use {1}, {2}, etc. for multiple input sources
ðŸ“Š Use --joblog logfile to keep a log of executed jobs
ðŸ”„ Use --resume to resume interrupted runs
ðŸ”’ Use --compress when transferring large amounts of data to remote hosts
ðŸ”§ Use --tag to prefix each line of output with the input line
ðŸ“ˆ Use --progress for a live progress update
ðŸ” Use --regexp to use regular expressions in replacement strings
ðŸ”€ Use parallel --link to process input sources in lockstep
ðŸ“œ Example: Image Processing
#!/usr/bin/env bash
# Resize all .jpg images to 50% of their original size
find . -name "*.jpg" | parallel convert {} -resize 50% {.}_resized.jpg
# Convert all .png images to .jpg in parallel, utilizing all CPU cores
parallel convert {} {.}.jpg ::: *.png
# Process images on remote servers
parallel --sshlogin user@server1,user@server2 --transfer \
"convert {} -resize 50% {.}_resized.jpg && rm {}" ::: *.jpg
# Generate thumbnails for all images, showing progress
parallel --bar "convert {} -resize 100x100^ -gravity center -extent 100x100 {}_thumb.jpg" ::: *.jpg
# Process large log file in parallel
cat large_log.txt | parallel --pipe grep 'ERROR' > errors.txt
# Parallel download of files
cat urls.txt | parallel --eta wget {}
Remember, GNU Parallel is a powerful tool. Use it responsibly and always test your commands with --dry-run before executing them on important data! ðŸš€ðŸ’»
Sign up for free
to join this conversation on GitHub.
Already have an account?
Sign in to comment
Footer
Â© 2025 GitHub,Â Inc.
Footer navigation
Terms
Privacy
Security
Status
Community
Docs
Contact
Manage cookies
Do not share my personal information
You canâ€™t perform that action at this time.