pcercuei’s gists · GitHub
Skip to content
Search Gists
Search Gists
All gists
Back to GitHub
Sign in
Sign up
Sign in
Sign up
You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.
Dismiss alert
Instantly share code, notes, and snippets.
Paul Cercueil
pcercuei
185
followers
·
4
following
View GitHub Profile
All gists
40
Sort
Recently created
Least recently created
Recently updated
Least recently updated
Sort
Recently created
Least recently created
Recently updated
Least recently updated
1 file
0 forks
0 comments
1 star
pcercuei
/ shz_get_circle_matrix.c
Created
September 19, 2025 12:03
#include <sh4zam/shz_vector.h>
#include <sh4zam/shz_xmtrx.h>
#include <stdio.h>
static shz_vec4_t shz_process_stuff(shz_vec4_t a, shz_vec4_t b)
{
return shz_vec4_init(a.x * b.x + a.y * b.z,
a.x * b.y + a.y * b.w,
a.z * b.x + a.w * b.z,
a.z * b.y + a.w * b.w);
1 file
0 forks
0 comments
0 stars
pcercuei
/ psx-dsp.txt
Created
March 15, 2025 11:39
MADRS[0] = (mLSAME>>1)-1
MADRS[1] = (dLSAME>>1)
MADRS[2] = (mRSAME>>1)-1
MADRS[3] = (dRSAME>>1)
MADRS[4] = (mLDIFF>>1)-1
MADRS[5] = (dRDIFF>>1)
MADRS[6] = (mRDIFF>>1)-1
MADRS[7] = (dLDIFF>>1)
MADRS[8] = (mLCOMB1>>1)
MADRS[9] = (mLCOMB2>>1)
1 file
0 forks
0 comments
1 star
pcercuei
/ dsp_instrs.md
Last active
March 14, 2025 17:08
Register names
This document references the following internal DSP registers:
MDEC: 16-bit counter, decremented on every sample
INPUTS: 24-bit signed input value
SHIFTED: 24-bit signed shifted output value
YREG: 24-bit signed latch register
ADRS: 12-bit address register
1 file
0 forks
0 comments
0 stars
pcercuei
/ checkboard.c
Created
November 8, 2024 18:20
#include <kos.h>
static int stop;
static void emu_exit(uint8_t, uint32_t)
{
stop = 1;
}
int main(void)
1 file
0 forks
0 comments
0 stars
pcercuei
/ test_threads_starvation.c
Created
October 2, 2024 15:10
#include <stdio.h>
#include <kos.h>
#define NB_MIDDLE_THREADS 50
static volatile bool stop, low_locked;
static mutex_t lock;
static void *low_thread(void *d)
1 file
0 forks
0 comments
0 stars
pcercuei
/ fakevq.c
Created
September 23, 2024 10:48
#include <kos.h>
#include <math.h>
#include <stdint.h>
#define ARRAY_SIZE(x) (sizeof(x) / sizeof((x)[0]))
struct codebook_4bpp {
uint64_t color[16];
uint64_t padding[16];
};
1 file
0 forks
0 comments
0 stars
pcercuei
/ bench_zcrc.c
Created
September 11, 2023 21:03
#include <kos.h>
#include <stdio.h>
#include <stdlib.h>
#include <assert.h>
#include "memfuncs.h"
#include "fastmem.h"
#define SIZE 1024 * 1 //16+1
1 file
0 forks
0 comments
0 stars
pcercuei
/ memcpy_64bit_32Bytes_zcrc.c
Created
September 11, 2023 20:34
/* Copyright (C) Paul Cercueil <paul@crapouillou.net> */
static void * memcpy_64bit_32Bytes_zcrc(void *dest, const void *src, size_t len) {
if(!len)
return dest;
void * ret_dest = dest;
_Complex float double_scratch;
_Complex float double_scratch2;
1 file
0 forks
0 comments
1 star
pcercuei
/ sh4_gcc_test_unroll.c
Last active
September 29, 2023 23:00
Small code to test GCC's loop unrolling on SH4
#include <sys/time.h>
#include <stdio.h>
#include <stdint.h>
#include <kos.h>
static const unsigned int test = 8;
KOS_INIT_FLAGS(INIT_DEFAULT);
1 file
0 forks
0 comments
2 stars
pcercuei
/ libudiv.h
Last active
March 14, 2024 00:47
/* SPDX-License-Identifier: BSD-3-Clause
*
* Copyright (C) 2024 Paul Cercueil <paul@crapouillou.net>
*/
#ifndef __LIBUDIV_H__
#define __LIBUDIV_H__
#ifdef _MSC_BUILD
#	define clz32(x)		_lzcnt_u32(x)
NewerOlder
Footer
© 2025 GitHub, Inc.
Footer navigation
Terms
Privacy
Security
Status
Community
Docs
Contact
Manage cookies
Do not share my personal information
You can’t perform that action at this time.